{"version":3,"sources":["components/pages/IndexPage/IndexPage.js","services/courses.services.js","components/shared/Spinner.js","components/pages/CoursesPage/CourseCard.js","components/pages/CoursesPage/CoursesList.js","components/pages/CoursesPage/CoursesPage.js","services/sections.services.js","components/pages/LecturePage/LectureModal.js","services/lectures.services.js","components/shared/Modal.js","services/uploads.service.js","components/pages/LectureForm/LectureEditForm.js","components/pages/SectionPage/play-svgrepo-com.svg","components/pages/SectionPage/add-to-svgrepo-com.svg","components/pages/SectionPage/delete-svgrepo-com.svg","components/pages/SectionPage/edit-svgrepo-com.svg","components/pages/SectionPage/duotone-eye-open-svgrepo-com.svg","components/pages/SectionPage/duotone-eye-closed-svgrepo-com.svg","components/pages/LecturePage/LectureCard.js","components/pages/LecturePage/LecturesList.js","components/pages/SectionForm/SectionForm.js","components/pages/SectionForm/SectionEditForm.js","components/pages/LectureForm/LectureForm.js","components/pages/SectionPage/down-arrow-svgrepo-com.svg","components/pages/SectionPage/up-arrow-svgrepo-com.svg","components/pages/SectionPage/DropDownListArrow.js","components/pages/SectionPage/SectionCard.js","components/pages/SectionPage/SectionsList.js","services/users.services.js","components/pages/InstructorDetails/InstructorCard.js","components/pages/CourseDetails/Overview.js","components/pages/CourseDetails/CurriculumLectureModal.js","components/pages/CourseDetails/CurriculumLectureCard.js","components/pages/CourseDetails/CurriculumLecturesList.js","components/pages/CourseDetails/CurriculumSectionCard.js","components/pages/CourseDetails/Curriculum.js","components/pages/CourseDetails/CourseTabs.js","components/pages/CourseDetails/CourseHeader.js","components/pages/LecturePage/LectureVideo.js","components/pages/CourseDetails/CourseDetails.js","components/pages/CourseForm/CourseForm.js","components/pages/CourseForm/CourseEditForm.js","services/auth.services.js","components/pages/SignUp/SignUp.js","components/pages/LogIn/LogIn.js","components/pages/UserDetails/UserDetails.js","components/pages/UserDetails/UserEditForm.js","components/Routes/index.js","components/layout/Navigation/Navigation.js","components/layout/Footer/FooterSection.js","components/layout/Footer/Footer.js","components/shared/logo.png","components/shared/Alert.js","components/pages/CookiesSettings/CookieInfoGDRP.js","components/App.js","index.js","components/pages/LecturePage/LecturePage.module.css","components/pages/SectionPage/SectionPage.module.css","components/pages/CourseDetails/CurriculumSectionPage.module.css","components/pages/CourseDetails/CurriculumLecturePage.module.css","components/shared/Modal.module.css","components/pages/LecturePage/LectureModal.module.css","components/pages/CourseDetails/CurriculumLectureModal.module.css"],"names":["IndexPage","Container","className","style","marginLeft","marginRight","width","to","CoursesService","getAllCourses","app","get","getCourse","courseId","populated","saveCourse","course_info","post","editCourse","put","_id","this","axios","create","baseURL","process","withCredentials","Spinner","size","height","CourseCard","name","description","image","loggedUser","reviews","Col","sm","lg","src","alt","slice","Button","variant","role","CoursesList","loadCourses","coursesService","then","res","setState","courses","data","catch","err","console","log","componentDidMount","state","undefined","coursesList","Row","map","elm","props","Component","CoursesPage","marginBottom","SectionsService","getSection","sectionId","saveSection","section_info","editSection","LectureModal","classes","backdrop","modal","videoUrl","frameborder","allow","allowfullscreen","title","onClick","toggleShowLecture","showLecture","LecturesService","getLecture","lectureId","saveLecture","lecture_info","editLecture","deleteLecture","lecture_id","Backdrop","ModalOverlay","content","children","portalElement","document","getElementById","Modal","ReactDOM","createPortal","UploadsService","uploadImage","imageFromForm","LectureEditForm","useState","sectionNumber","lectureNumber","typeOfLecture","imageUrl","isUploading","authors","freeAccess","temporaryTag","tags","addTagEnabled","lectureInput","setLectureInput","lecturesService","uploadsService","useEffect","isMounted","currentLectureId","response","tempAuthors","prevLectureInput","handleInputChange","e","target","value","Form","onSubmit","preventDefault","newLecture","hideEditForm","renderList","Group","controlId","Label","Control","type","onChange","as","custom","alignItems","xs","md","marginTop","trim","tempTags","disabled","ListGroup","horizontal","tag","index","Item","uploadData","FormData","append","files","cloudinary_url","handleFileUpload","float","LectureCard","showVideoInModal","toggleLectureAccess","lecture","tempLectureObject","refreshSectionsList","toggleEditLectureForm","editLectureFormIsShown","loadLectureCard","componentDidUpdate","prevProps","prevState","freeCourse","lecturesCount","hideForm","currentVideo","setCurrentVideo","setCurrentLecture","visibilityCondition","activeColor","container","background","display","id","block","fontSize","smallPicContainer","smallPic","PlayLecture","FreeAccess","RestrictedAccess","EditLecture","AddLecture","DeleteLecture","toggleShowLectures","LecturesList","lectures","SectionForm","sectionInput","setSectionInput","sectionsService","prevSectionInput","newSection","toggleShowClasses","SectionEditForm","LectureForm","DropDownListArrow","showLectures","FallUpArrow","DropDownArrow","SectionCard","loadSectionsList","sectionService","section","setCurrentSection","toggleNewSectionForm","newSectionFormIsShown","toggleEditSectionForm","editSectionFormIsShown","toggleNewLectureForm","newLectureFormIsShown","sectionContainer","sectionTitleContainer","length","SectionsList","currentSection","currentLecture","scrollIntoViewCurrentLecture","currentLectureID","element","scrollIntoView","behavior","scrollIntoViewCurrentSection","currentSectionID","sections","overflowY","UsersService","getAllUsers","getUser","userId","editUser","user","changePassword","InstructorCard","loadInstructor","instructorId","userService","author","surname","paragraph","keyNum","Overview","course","skillLevel","students","language","lecturesNumber","totalTimeInSeconds","CurriculumLectureModal","CurriculumLectureCard","CurriculumLecturesList","CurriculumSectionCard","grade","Curriculum","CourseTabs","Tabs","defaultActiveKey","freeAccessForFirstThirdOfAllLectures","Tab","eventKey","CourseHeader","color","textAlign","padding","LectureVideo","fluid","margin","CourseDetails","toggleShowSections","showSections","loadDetailsPage","courseService","course_id","match","params","includes","setCurrentSectionAndLecture","CourseForm","typeOfCourse","position","price","discountedPrice","allPlatformPromotions","owner","courseInput","setCourseInput","prevCourseInput","about","history","push","Check","checked","label","inline","CourseEditForm","AuthService","login","email","pwd","signup","username","logout","isLoggedIn","Signup","handleFormSubmit","authService","handleAlert","span","offset","LogIn","loggedUserfromServer","storeUser","UserDetails","Card","Header","Body","Image","avatar","roundedCircle","UserEditForm","handleCheckboxChange","showNewPasswordFields","error","pwdNew1","pwdNew2","Routes","path","exact","render","Navigation","useHistory","Navbar","bg","expand","top","zIndex","Brand","Toggle","Collapse","Nav","split","FooterSection","footerColumnInfo","links","isTwoColumn","Math","ceil","link","href","url","rel","Footer","handleScroll","window","pageYOffset","hidden","addEventListener","removeEventListener","Alert","show","text","displayTime","errorMessages","errorMessage","Toast","autohide","delay","onClose","bottom","right","closeButton","closeLabel","logo","CookieGDRP","onHide","centered","Title","App","fetchUser","theLoggedUser","showCookiesSettings","hideCookiesSettings","hideGDRP","showGDRP","alertText","showAlert","toast","redirectToCourses","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.0014004c.chunk.js","sourcesContent":["// import {Container, Button} from 'react-bootstrap'\r\nimport {Container} from 'react-bootstrap'\r\nimport {Link} from 'react-router-dom'\r\nimport './IndexPage.css'\r\n\r\nconst IndexPage = () => {\r\n\r\n    return (\r\n        <Container className='bgImg' style={{marginLeft: '0px', marginRight: '0px', width:'100vw'}}>\r\n\r\n            <h1>Welcome to MateCuMatei</h1>\r\n            <p>Idei, nu formule.</p>\r\n            <Link to={`/courses`}>\r\n                    {/* <Button className=\"btnBlock\">All Courses</Button> */}\r\n            </Link>\r\n\r\n        </Container>\r\n        \r\n    )\r\n}\r\n\r\nexport default IndexPage","import axios from 'axios' \r\n \r\n class CoursesService{\r\n\r\n    constructor(){\r\n        this.app = axios.create({\r\n            baseURL: process.env.REACT_APP_BASE_URL + '/courses',\r\n            // baseURL: 'https://matecumatei-server.herokuapp.com/api/courses',\r\n            // baseURL: 'http://localhost:5000/api/courses',\r\n            withCredentials: true\r\n        })\r\n    }\r\n\r\n    getAllCourses = () => this.app.get('/')\r\n    getCourse = (courseId, populated) => this.app.get(`/${courseId}/${populated}`)\r\n    // getCourse = courseId => this.app.get(`/${courseId}`)\r\n    saveCourse = (course_info) => this.app.post('/new', course_info)\r\n    editCourse = (course_info) => this.app.put(`/edit/${course_info._id}`, course_info)\r\n }\r\n\r\n export default CoursesService","import './Spinner.css'\r\n\r\nconst Spinner = ({size}) => {\r\n    const style = { width: size, height: size}\r\n\r\n    return <div className='spinner' style = {style}></div>\r\n}\r\n\r\nexport default Spinner","import './CoursePage.css';\r\n\r\nimport { Col, Button} from \"react-bootstrap\";\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst CourseCard = ({name, description, image, _id, reviews, loggedUser}) => {\r\n\r\n    return(\r\n        <Col sm={6} lg={4}>\r\n            <article className=\"courseCard\">\r\n                <img src={image} alt={name}/>\r\n                <h4>{name}</h4>\r\n                <p>{description.slice(0, 70)}...</p>\r\n                <Link to={`/courses/details/${_id}`}>\r\n                    <Button className=\"btnBlock\" variant=\"secondary\">Detalii</Button>\r\n                </Link>\r\n                {\r\n                loggedUser && loggedUser.role === 'admin'\r\n                ?\r\n                <Link to={`/courses/edit/${_id}/false`}>\r\n                    <Button className=\"btnBlock\" variant=\"warning\">Edit</Button>\r\n                </Link>\r\n                :\r\n                null\r\n                }\r\n            </article>\r\n        </Col>\r\n    )\r\n\r\n}\r\n\r\nexport default CourseCard","import { Component } from \"react\";\r\nimport CoursesService from \"../../../services/courses.services\";\r\nimport Spinner from './../../shared/Spinner'\r\n\r\nimport { Row } from 'react-bootstrap'\r\nimport CourseCard from \"./CourseCard\";\r\n\r\nclass CoursesList extends Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            courses: undefined\r\n        }\r\n        this.coursesService = new CoursesService()\r\n    }\r\n\r\n    loadCourses = () => {\r\n        this.coursesService\r\n            .getAllCourses()\r\n            .then( res => this.setState({courses: res.data}))\r\n            .catch( err => console.log(err))\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.loadCourses()\r\n    }\r\n\r\n    render(){\r\n\r\n        const coursesList = !this.state.courses\r\n            ?\r\n            // <h1>waiting2...</h1>\r\n            <Spinner size={200}/>\r\n            :\r\n            <Row>\r\n                {this.state.courses?.map( elm => <CourseCard key = {elm._id} {...elm} loggedUser={this.props.loggedUser}/>)}\r\n            </Row>\r\n\r\n        return(\r\n            <>\r\n                {coursesList}\r\n            </>\r\n            \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nexport default CoursesList","import {Container, Button} from 'react-bootstrap'\r\nimport CoursesList from './CoursesList'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst CoursesPage = ({loggedUser}) => {\r\n\r\n    // console.log(loggedUser.role)\r\n\r\n    return(\r\n        <Container>\r\n            <CoursesList loggedUser={loggedUser}/>\r\n            {\r\n                loggedUser?.role==='admin' || loggedUser?.role==='superUser'\r\n                ?\r\n                <Link to={`/courses/new`}>\r\n                    <Button className=\"btnBlock\">New Course</Button>\r\n                </Link>\r\n                :\r\n                null\r\n            }\r\n\r\n            <p style={{marginBottom: '3rem'}}></p>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CoursesPage","import axios from 'axios' \r\n \r\n class SectionsService{\r\n\r\n    constructor(){\r\n        this.app = axios.create({\r\n            baseURL: process.env.REACT_APP_BASE_URL + '/sections',\r\n            // baseURL: 'https://matecumatei-server.herokuapp.com/api/sections',\r\n            // baseURL: 'http://localhost:5000/api/sections',\r\n            withCredentials: true\r\n        })\r\n    }\r\n\r\n    // getAllLectures = () => this.app.get('/')\r\n    getSection = sectionId => this.app.get(`/${sectionId}`)\r\n    saveSection = (section_info) => this.app.post('/new', section_info)\r\n    editSection = (section_info) => this.app.put(`/edit/${section_info._id}`, section_info)\r\n }\r\n\r\n export default SectionsService","import React from 'react'\r\n\r\nimport classes from './LectureModal.module.css';\r\n\r\nconst LectureModal = props => {\r\n\r\n\r\n    return(\r\n        <>\r\n            <div className={classes.backdrop} />\r\n            <div className={classes.modal}>\r\n                {/* <iframe width=\"100%\" height=\"360\" src={props.videoUrl}\r\n                    title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n                    allowfullscreen=\"allowfullscreen\">\r\n                </iframe> */}\r\n                <iframe src={props.videoUrl} width=\"100%\" height=\"360\" frameborder=\"0\" \r\n                    allow=\"autoplay; fullscreen; picture-in-picture\" allowfullscreen title=\"01 Structura cursului 6 FEB\">\r\n                </iframe>\r\n                <button className=\"btn btn-light\" onClick={props.toggleShowLecture} style={{width: '100%'}}>\r\n                    {props.showLecture ? 'Ascunde lectia' : 'Arata lectia'}                        \r\n                </button>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default LectureModal","import axios from 'axios' \r\n \r\n class LecturesService{\r\n\r\n    constructor(){\r\n        this.app = axios.create({\r\n            baseURL: process.env.REACT_APP_BASE_URL + '/lectures',\r\n            // baseURL: 'https://matecumatei-server.herokuapp.com/api/lectures',\r\n            // baseURL: 'http://localhost:5000/api/lectures',\r\n            withCredentials: true\r\n        })\r\n    }\r\n\r\n    // getAllLectures = () => this.app.get('/')\r\n    getLecture = lectureId => this.app.get(`/${lectureId}`)\r\n    saveLecture = (lecture_info) => this.app.post('/new', lecture_info)\r\n    editLecture = (lecture_info) => this.app.put(`/edit/${lecture_info._id}`, lecture_info)\r\n    deleteLecture = (lecture_id) => this.app.post(`/delete/${lecture_id}`, lecture_id)\r\n }\r\n\r\n export default LecturesService","import { Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport classes from './Modal.module.css';\r\n\r\nconst Backdrop = (props) => {\r\n  return <div className={classes.backdrop} />;\r\n};\r\n\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById('overlays');\r\n\r\nconst Modal = (props) => {\r\n  return (\r\n    <Fragment>\r\n      {ReactDOM.createPortal(<Backdrop />, portalElement)}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;","import axios from 'axios'\r\n\r\nclass UploadsService {\r\n\r\n    constructor() {\r\n        this.app = axios.create({\r\n            baseURL: process.env.REACT_APP_BASE_URL + '/upload',\r\n            // baseURL: 'https://matecumatei-server.herokuapp.com/api/upload',\r\n            // baseURL: 'http://localhost:5000/api/upload',\r\n            withCredentials: true\r\n        })\r\n    }\r\n\r\n    uploadImage = imageFromForm => this.app.post('/image', imageFromForm)\r\n}\r\n\r\nexport default UploadsService","import { useState, useEffect } from 'react'\r\nimport { Form, Button, Container, ListGroup, Row, Col } from 'react-bootstrap'\r\nimport LecturesService from '../../../services/lectures.services'\r\n// import SectionsService from '../../../services/sections.services'\r\nimport Modal from '../../shared/Modal'\r\nimport UploadsService from '../../../services/uploads.service'\r\nimport Spinner from '../../shared/Spinner'\r\n\r\nconst LectureEditForm = (props) =>  {\r\n\r\n    const [lectureInput, setLectureInput] = useState({\r\n            sectionId: props.sectionId,\r\n            name: '',\r\n            sectionNumber: props.sectionNumber,\r\n            lectureNumber: '',\r\n            typeOfLecture: 'video',\r\n            description: '',\r\n            videoUrl: '',\r\n            imageUrl: '',\r\n            isUploading: false,\r\n            authors: [props.loggedUser?._id],\r\n            freeAccess: false,\r\n            courseId: props.courseId,\r\n            temporaryTag: '',\r\n            tags: [],\r\n            addTagEnabled: true,\r\n    })\r\n\r\n    const lecturesService = new LecturesService()\r\n    // const sectionsService = new SectionsService()    \r\n    const uploadsService = new UploadsService()\r\n\r\n    useEffect(() => {   \r\n        const lecturesService = new LecturesService() \r\n        let isMounted = true\r\n        lecturesService\r\n            .getLecture(props.currentLectureId)\r\n            .then(response => {\r\n                const tempAuthors= props.loggedUser?.role==='admin' ? [...response.data.authors] : [...response.data.authors, props.loggedUser?._id]\r\n                if( isMounted ){\r\n                    setLectureInput(prevLectureInput => ({\r\n                        ...prevLectureInput,\r\n                        ...response.data,\r\n                        authors: tempAuthors,\r\n                    }));\r\n                    isMounted = false\r\n                }\r\n\r\n                })\r\n            .catch(err => console.log(err));\r\n            // return () => {\r\n            //     isMounted = false;\r\n            //     // Cancel any pending requests or subscriptions here\r\n            // };\r\n      }, [props.sectionId, props.loggedUser?.role, props.loggedUser?._id, props.currentLectureId]);\r\n\r\n\r\n\r\n    const handleInputChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        setLectureInput((prevLectureInput) => {\r\n            return { ...prevLectureInput, [name]: value }\r\n        } )\r\n\r\n    }\r\n\r\n    const addTag = (e) => {\r\n        e.preventDefault()\r\n        if( lectureInput.temporaryTag.trim() !== ''){\r\n            const tempTags = [...lectureInput.tags, lectureInput.temporaryTag]\r\n            setLectureInput((prevLectureInput) => {\r\n                return { ...prevLectureInput, tags: tempTags, temporaryTag: ''  }\r\n            } )     \r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleFileUpload = e => {\r\n\r\n        setLectureInput((prevLectureInput) => {\r\n            return { ...prevLectureInput, isUploading: true }\r\n        } )\r\n\r\n        const uploadData = new FormData()\r\n        uploadData.append('imageData', e.target.files[0])\r\n\r\n        uploadsService\r\n            .uploadImage(uploadData)\r\n            .then(response => {\r\n                console.log(response.data.cloudinary_url)\r\n                setLectureInput((prevLectureInput) => {\r\n                    return { ...prevLectureInput, isUploading: false, imageUrl: response.data.cloudinary_url}\r\n                    // return { ...prevLectureInput, isUploading: false, imageUrl: response.data.secure_url}\r\n                } )\r\n            })\r\n            // this.setState({ isUploading: false, coaster: { ...this.state.coaster, imageUrl: response.data.secure_url } }))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        // console.log(props.courseId)\r\n\r\n\r\n        lecturesService\r\n            .editLecture(lectureInput)\r\n            .then((newLecture) => {\r\n\r\n                setLectureInput({\r\n                    name: '',\r\n                    sectionNumber: '',\r\n                    lectureNumber: '',\r\n                    typeOfLecture: 'video',\r\n                    description: '',\r\n                    videoUrl: '',\r\n                    imageUrl: '',\r\n                    isUploading: false,\r\n                    authors: [props.loggedUser?._id],\r\n                    freeAccess: false,\r\n                    sectionId: props.sectionId,\r\n                    courseId: props.courseId,\r\n                    temporaryTag: '',\r\n                    tags: [],\r\n                    addTagEnabled: true,\r\n                })\r\n\r\n                props.hideEditForm()\r\n                // props.toggleShowClasses()\r\n                props.renderList()\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n\r\n        return (\r\n            <Modal>\r\n            <Container>\r\n\r\n                <Form onSubmit={handleFormSubmit}>\r\n\r\n                    <Form.Group controlId=\"name\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.name} onChange={handleInputChange} name=\"name\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"lectureNumber\">\r\n                        <Form.Label>Lecture Number</Form.Label>\r\n                        <Form.Control type=\"number\" value={lectureInput.lectureNumber} onChange={handleInputChange} name=\"lectureNumber\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"desc\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.description} onChange={handleInputChange} name=\"description\" />\r\n                    </Form.Group>\r\n\r\n<Form.Group controlId=\"typeOfLecture\">\r\n    <Form.Label>Type of Lecture</Form.Label>\r\n    <Form.Control as=\"select\" type=\"text\" value={lectureInput.typeOfLecture} onChange={handleInputChange} name=\"typeOfLecture\" custom=\"true\">\r\n        <option value=\"\">-- Select the lecture type --</option>\r\n        <option value=\"video\">Video</option>\r\n        <option value=\"written\">Written document - Pdf</option>\r\n        <option value=\"other\">Other format</option>\r\n    </Form.Control>                     \r\n</Form.Group>\r\n\r\n\r\n<Row style={{ alignItems: 'bottom' }}>\r\n    <Col xs={6} md={3}>\r\n        <Form.Group controlId=\"temporaryTag\">\r\n            <Form.Label>Tags</Form.Label>\r\n            <Form.Control type=\"text\" value={lectureInput.temporaryTag} onChange={handleInputChange} name=\"temporaryTag\" />\r\n        </Form.Group>\r\n    </Col>\r\n    <Col xs={6} md={3}>\r\n        <Button style={{ marginTop: '2em', width: '100%' }} variant=\"dark\" onClick={addTag} disabled = {!lectureInput.addTagEnabled}>\r\n            Add tag\r\n        </Button>\r\n    </Col>\r\n    <Col xs={12} md={6} style={{ marginTop: '1.8em'}}>\r\n        <ListGroup horizontal>\r\n            {lectureInput.tags.map( (tag, index) => <ListGroup.Item key={index}>{tag}</ListGroup.Item>)}\r\n        </ListGroup>\r\n    </Col>\r\n</Row>\r\n\r\n                    {/* <Form.Group controlId=\"typeOfLecture\">\r\n                        <Form.Label>Type of Lecture</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.typeOfLecture} onChange={handleInputChange} name=\"typeOfLecture\" />\r\n                    </Form.Group> */}\r\n\r\n                    <Form.Group controlId=\"videoUrl\">\r\n                        <Form.Label>Video Url</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.videoUrl} onChange={handleInputChange} name=\"videoUrl\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"imageUrl\">\r\n                        <Form.Label>Imagen (URL)</Form.Label>\r\n                        <Form.Control type=\"file\" onChange={e => handleFileUpload(e)} />\r\n                    </Form.Group>\r\n\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'10%' }} variant=\"dark\" onClick={props.hideEditForm}>Cancel</Button>\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'20%' }} variant=\"dark\" type=\"submit\" disabled={lectureInput.isUploading}>\r\n                        {lectureInput.isUploading ? 'Uploading' : 'Edit lecture'}\r\n                    </Button>\r\n                    {lectureInput.isUploading && <div style={{float: 'right'}}><Spinner size={30}/></div>}\r\n\r\n\r\n                </Form>\r\n\r\n            </Container>\r\n            </Modal>\r\n        )\r\n\r\n}\r\n\r\nexport default LectureEditForm","export default __webpack_public_path__ + \"static/media/play-svgrepo-com.c6fd441d.svg\";","export default __webpack_public_path__ + \"static/media/add-to-svgrepo-com.327a7116.svg\";","export default __webpack_public_path__ + \"static/media/delete-svgrepo-com.301b654a.svg\";","export default __webpack_public_path__ + \"static/media/edit-svgrepo-com.c2a53e83.svg\";","export default __webpack_public_path__ + \"static/media/duotone-eye-open-svgrepo-com.a7009b7d.svg\";","export default __webpack_public_path__ + \"static/media/duotone-eye-closed-svgrepo-com.7d44abc9.svg\";","import { Container} from \"react-bootstrap\"\r\nimport LectureModal from './LectureModal'\r\nimport LectureEditForm from \"../LectureForm/LectureEditForm\";\r\nimport classes from './LecturePage.module.css';\r\n\r\nimport PlayLecture from '../SectionPage/play-svgrepo-com.svg'\r\nimport AddLecture from '../SectionPage/add-to-svgrepo-com.svg'\r\nimport DeleteLecture from '../SectionPage/delete-svgrepo-com.svg'\r\nimport EditLecture from '../SectionPage/edit-svgrepo-com.svg'\r\nimport FreeAccess from '../SectionPage/duotone-eye-open-svgrepo-com.svg'\r\nimport RestrictedAccess from '../SectionPage/duotone-eye-closed-svgrepo-com.svg'\r\n\r\nimport LecturesService from '../../../services/lectures.services';\r\nimport { Component } from 'react';\r\n\r\nclass LectureCard extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            showVideoInModal: false,\r\n            // freeAccess could be removed\r\n            freeAccess: false,\r\n            lecture: undefined,\r\n            editLectureFormIsShown: false,\r\n        }\r\n        this.lecturesService = new LecturesService()\r\n    }\r\n\r\n    toggleShowLecture = () => {\r\n        this.setState({\r\n            showVideoInModal: !this.showVideoInModal\r\n        })\r\n    }\r\n\r\n    toggleLectureAccess = () => {\r\n        const lectureInput = {_id: this.state.lecture._id, freeAccess: !this.state.freeAccess}\r\n        this.lecturesService\r\n            .editLecture(lectureInput)\r\n            .then(res => console.log('toggled'))\r\n            .catch(err => console.log(err))\r\n        const tempLectureObject = {...this.state.lecture, freeAccess: !this.state.freeAccess}\r\n        this.setState({\r\n            lecture: tempLectureObject,\r\n            freeAccess: !this.state.freeAccess\r\n        })\r\n        this.props.refreshSectionsList()\r\n\r\n    }\r\n\r\n    toggleEditLectureForm = (lectureId) => {\r\n        this.setState({editLectureFormIsShown: !this.state.editLectureFormIsShown})\r\n    }\r\n\r\n\r\n    loadLectureCard = () => {\r\n        const {lecture} = this.props\r\n        this.lecturesService\r\n            .getLecture(lecture._id)\r\n            .then(res => this.setState({lecture: res.data, freeAccess:res.data.freeAccess}))\r\n            .catch( err => console.log(err))\r\n\r\n    }\r\n\r\n    deleteLecture = () => {\r\n        this.lecturesService\r\n            .deleteLecture(this.state.lecture._id)\r\n            .then(lecture => console.log(lecture))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadLectureCard()\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => prevState.freeAccess !== this.state.freeAccess && this.loadLectureCard()\r\n\r\n\r\n    render(){\r\n        const {lecture, freeCourse, lecturesCount, loggedUser, hideForm, currentVideo, setCurrentVideo, setCurrentLecture} = this.props\r\n        // const {lecture, freeCourse, lecturesCount, loggedUser, hideForm, hideEditForm, renderList, currentVideo, setCurrentVideo, setCurrentLecture, deleteLecture} = this.props\r\n        let visibilityCondition = \r\n            loggedUser?.role === 'admin' ||\r\n            lecture.freeAccess || \r\n            ( loggedUser!==undefined && freeCourse ) ||\r\n            ( !loggedUser && freeCourse && \r\n                ( \r\n                    lecture.lectureNumber < lecturesCount/3\r\n                    &&\r\n                    lecture.lectureNumber % 2 === 1\r\n                )\r\n            )\r\n            ?\r\n            'flex' \r\n            : \r\n            'none'\r\n\r\n        // let visibilityCondition = loggedUser || !loggedUser && lecture.freeAccess ? 'flex' : 'none'\r\n\r\n        const setCurrentVideoSectionAndLecture = () => {\r\n            setCurrentVideo(lecture.videoUrl)\r\n            setCurrentLecture(lecture.sectionNumber, lecture.lectureNumber)\r\n        }\r\n        const activeColor = currentVideo === lecture.videoUrl ? '#ebe8e8' : '#fff'\r\n        return(\r\n            <>\r\n                <Container className={classes.container} onClick={setCurrentVideoSectionAndLecture}\r\n                    style={{background: activeColor, display: visibilityCondition}}\r\n                    id={`lecture${lecture.lectureNumber}`}>\r\n\r\n                    <div className={classes.block}  style={{width: '70%'}}>\r\n                        <h5 style={{ marginBottom: '0px', fontSize:'1em'}}>{lecture.sectionNumber}.{lecture.lectureNumber} - {lecture.name}</h5 >\r\n                    </div>\r\n\r\n                    {\r\n                    loggedUser\r\n                    ?\r\n                    null\r\n                    :\r\n                    <div className={classes.block}>            \r\n                        <div className={classes.smallPicContainer} onClick={this.toggleShowLecture}> \r\n                            <img className={classes.smallPic} src={PlayLecture} alt=\"play lecture\"/>\r\n                        </div>    \r\n                    </div>\r\n                    }\r\n\r\n                {\r\n                    loggedUser?.role !== 'admin'\r\n                    ?\r\n                    null\r\n                    :\r\n                    <div className={classes.block} onClick={this.toggleLectureAccess}>           \r\n                        <div className={classes.smallPicContainer}>\r\n                            <img className={classes.smallPic} src={this.state.freeAccess ? FreeAccess : RestrictedAccess} alt=\"play lecture\"/>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                    {\r\n                        !this.showVideoInModal && loggedUser?.role === 'admin' &&\r\n                        <>\r\n                        <div className={classes.block}>            \r\n                            <div className={classes.smallPicContainer} onClick={this.toggleEditLectureForm}>\r\n                            {/* <div className={classes.smallPicContainer} onClick={() => hideEditForm(lecture._id)}> */}\r\n                                <img className={classes.smallPic} src={EditLecture} alt=\"edit lecture\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classes.block}>            \r\n                            <div className={classes.smallPicContainer} onClick={hideForm}>\r\n                                <img className={classes.smallPic} src={AddLecture} alt=\"add lecture\"/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classes.block}>            \r\n                            <div className={classes.smallPicContainer} onClick={this.deleteLecture}>\r\n                                <img className={classes.smallPic} src={DeleteLecture} alt=\"delete lecture\"/>\r\n                            </div>\r\n                        </div>\r\n                        </>\r\n                    }\r\n\r\n                </Container>\r\n\r\n                {\r\n                    this.showVideoInModal\r\n                    &&\r\n                    <LectureModal videoUrl = {lecture.videoUrl} toggleShowLecture={this.showVideoInModal} showLecture={this.showVideoInModal} />\r\n\r\n                    // <iframe width=\"560\" height=\"315\" src={lecture.videoUrl}\r\n                    //     title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n                    //     allowfullscreen=\"allowfullscreen\">\r\n                    // </iframe>\r\n                }\r\n                \r\n\r\n                {this.state.editLectureFormIsShown && \r\n                    <LectureEditForm courseId={this.state.lecture.courseId} sectionId={this.state.lecture.sectionId} \r\n                        sectionNumber={this.state.lecture.sectionNumber} \r\n                        hideEditForm={this.toggleEditLectureForm} currentLectureId={this.state.lecture._id} renderList={this.props.renderList}\r\n                        toggleShowLectures={this.toggleShowLectures} loggedUser={this.props.loggedUser}/>\r\n                }\r\n            {/* </article> */}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default LectureCard","import LectureCard from \"./LectureCard\";\r\n\r\nconst LecturesList = ({lectures, freeCourse, lecturesCount, loggedUser, hideForm, renderList, currentVideo, setCurrentVideo, setCurrentLecture, refreshSectionsList}) => {\r\n\r\n    return(\r\n        // <h1>LecturesList</h1>\r\n        <>\r\n        {lectures.map(lecture => <LectureCard lecture = {lecture}  loggedUser={loggedUser}  \r\n            hideForm={hideForm} renderList={renderList} key={lecture._id}\r\n            currentVideo={currentVideo} setCurrentVideo={setCurrentVideo}\r\n            setCurrentLecture={setCurrentLecture}\r\n            refreshSectionsList={refreshSectionsList}\r\n            freeCourse ={freeCourse} lecturesCount={lecturesCount}/>)}\r\n        \r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default LecturesList","import { useState } from 'react'\r\nimport { Form, Button, Container } from 'react-bootstrap'\r\nimport SectionsService from '../../../services/sections.services'\r\n// import CoursesService from '../../../services/courses.services'\r\nimport Modal from '../../shared/Modal'\r\n\r\nconst SectionForm = (props) =>  {\r\n\r\n    const [sectionInput, setSectionInput] = useState({\r\n            courseId: props.courseId,\r\n            name: '',\r\n            sectionNumber: '',\r\n            description: '',\r\n            authors: [props.loggedUser?._id],\r\n    })\r\n\r\n    const sectionsService = new SectionsService()\r\n    // const coursesService = new CoursesService()\r\n\r\n\r\n\r\n    const handleInputChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        // React SCHEDULES state updates, does not perform them instantly ==> if more updates scheduled, wrong state might be used\r\n        // INSTEAD OF:\r\n\r\n        // setSectionInput({\r\n        //     ...sectionInput,\r\n        //     [name]: value\r\n        // })\r\n\r\n        // WE USE:\r\n\r\n\r\n        setSectionInput((prevSectionInput) => {\r\n            return { ...prevSectionInput, [name]: value }\r\n        } )\r\n\r\n        // and React GUARANTEES the latest state will be used\r\n\r\n        // IF STATE UPDATE DEPENDS ON THE PREVIOUS STATE, USE THE ARROW FUNCTION\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        // console.log(props.courseId)\r\n\r\n        sectionsService\r\n            .saveSection(sectionInput)\r\n            .then((newSection) => {\r\n\r\n                setSectionInput({\r\n                    name: '',\r\n                    description: '',\r\n                    sectionNumber: '',\r\n                })\r\n\r\n                props.hideForm()\r\n                props.toggleShowClasses()\r\n                props.renderList()\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n\r\n        return (\r\n            <Modal>\r\n            <Container>\r\n\r\n                <Form onSubmit={handleFormSubmit}>\r\n\r\n                    <Form.Group controlId=\"name\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control type=\"text\" value={sectionInput.name} onChange={handleInputChange} name=\"name\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"desc\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control type=\"text\" value={sectionInput.description} onChange={handleInputChange} name=\"description\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"sectionNumber\">\r\n                        <Form.Label>Section Number</Form.Label>\r\n                        <Form.Control type=\"text\" value={sectionInput.sectionNumber} onChange={handleInputChange} name=\"sectionNumber\" />\r\n                    </Form.Group>\r\n\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'10%' }} variant=\"dark\" onClick={props.hideForm}>Cancel</Button>\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'20%' }} variant=\"dark\" type=\"submit\">Create section</Button>\r\n\r\n                </Form>\r\n\r\n            </Container>\r\n            </Modal>\r\n        )\r\n\r\n}\r\n\r\nexport default SectionForm","import { useState, useEffect } from 'react'\r\nimport { Form, Button, Container, ListGroup, Row, Col  } from 'react-bootstrap'\r\nimport SectionsService from '../../../services/sections.services'\r\n// import CoursesService from '../../../services/courses.services'\r\nimport Modal from '../../shared/Modal'\r\n\r\nconst SectionEditForm = (props) =>  {\r\n\r\n    const [sectionInput, setSectionInput] = useState({\r\n            courseId: props.courseId,\r\n            name: '',\r\n            sectionNumber: 0,\r\n            description: '',\r\n            authors: [props.loggedUser?._id],\r\n            temporaryTag: '',\r\n            tags: [],\r\n            addTagEnabled: true,\r\n    })\r\n\r\n    const sectionsService = new SectionsService()\r\n    // const coursesService = new CoursesService()\r\n\r\n    useEffect(() => {   \r\n        const sectionsService = new SectionsService() \r\n        let isMounted = true\r\n        sectionsService\r\n            .getSection(props.sectionId)\r\n            .then(response => {\r\n                const tempAuthors= props.loggedUser?.role==='admin' ? [...response.data.authors] : [...response.data.authors, props.loggedUser?._id]\r\n                if( isMounted ){\r\n                    setSectionInput(prevSectionInput => ({\r\n                        ...prevSectionInput,\r\n                        ...response.data,\r\n                        authors: tempAuthors,\r\n                    }));\r\n                    isMounted = false\r\n                }\r\n\r\n                })\r\n            .catch(err => console.log(err));\r\n            // return () => {\r\n            //     isMounted = false;\r\n            //     // Cancel any pending requests or subscriptions here\r\n            // };\r\n      }, [props.sectionId, props.loggedUser?.role, props.loggedUser?._id]);\r\n\r\n\r\n\r\n    const handleInputChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        // React SCHEDULES state updates, does not perform them instantly ==> if more updates scheduled, wrong state might be used\r\n        // INSTEAD OF:\r\n\r\n        // setSectionInput({\r\n        //     ...sectionInput,\r\n        //     [name]: value\r\n        // })\r\n\r\n        // WE USE:\r\n\r\n\r\n        setSectionInput((prevSectionInput) => {\r\n            return { ...prevSectionInput, [name]: value }\r\n        } )\r\n\r\n        // and React GUARANTEES the latest state will be used\r\n\r\n        // IF STATE UPDATE DEPENDS ON THE PREVIOUS STATE, USE THE ARROW FUNCTION\r\n    }\r\n\r\n    const addTag = (e) => {\r\n        e.preventDefault()\r\n        if( sectionInput.temporaryTag.trim() !== ''){\r\n            const tempTags = [...sectionInput.tags, sectionInput.temporaryTag]\r\n            setSectionInput((prevSectionInput) => {\r\n                return { ...prevSectionInput, tags: tempTags, temporaryTag: ''  }\r\n            } )     \r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        // console.log(props.courseId)\r\n\r\n        sectionsService\r\n            .editSection(sectionInput)\r\n            .then((newSection) => {\r\n\r\n                setSectionInput({\r\n                    name: '',\r\n                    description: '',\r\n                    sectionNumber: 0,\r\n                    authors: [props.loggedUser?._id],\r\n                    temporaryTag: '',\r\n                    tags: [],\r\n                    addTagEnabled: true,\r\n                })\r\n\r\n                props.hideForm()\r\n                // props.toggleShowClasses()\r\n                props.renderList()\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n\r\n        return (\r\n            <Modal>\r\n            <Container>\r\n\r\n                <Form onSubmit={handleFormSubmit}>\r\n\r\n                    <Form.Group controlId=\"name\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control type=\"text\" value={sectionInput.name} onChange={handleInputChange} name=\"name\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"desc\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control type=\"text\" value={sectionInput.description} onChange={handleInputChange} name=\"description\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"sectionNumber\">\r\n                        <Form.Label>Section Number</Form.Label>\r\n                        <Form.Control type=\"number\" value={sectionInput.sectionNumber} onChange={handleInputChange} name=\"sectionNumber\" />\r\n                    </Form.Group>\r\n\r\n<Row style={{ alignItems: 'bottom' }}>\r\n    <Col xs={6} md={3}>\r\n        <Form.Group controlId=\"temporaryTag\">\r\n            <Form.Label>Tags</Form.Label>\r\n            <Form.Control type=\"text\" value={sectionInput.temporaryTag} onChange={handleInputChange} name=\"temporaryTag\" />\r\n        </Form.Group>\r\n    </Col>\r\n    <Col xs={6} md={3}>\r\n        <Button style={{ marginTop: '2em', width: '100%' }} variant=\"dark\" onClick={addTag} disabled = {!sectionInput.addTagEnabled}>\r\n            Add tag\r\n        </Button>\r\n    </Col>\r\n    <Col xs={12} md={6} style={{ marginTop: '1.8em'}}>\r\n        <ListGroup horizontal>\r\n            {sectionInput.tags.map( (tag, index) => <ListGroup.Item key={index}>{tag}</ListGroup.Item>)}\r\n        </ListGroup>\r\n    </Col>\r\n</Row>\r\n\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'10%' }} variant=\"dark\" onClick={props.hideForm}>Cancel</Button>\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'20%' }} variant=\"dark\" type=\"submit\">Edit section</Button>\r\n\r\n                </Form>\r\n\r\n            </Container>\r\n            </Modal>\r\n        )\r\n\r\n}\r\n\r\nexport default SectionEditForm","import { useState } from 'react'\r\nimport { Form, Button, Container, ListGroup, Row, Col } from 'react-bootstrap'\r\nimport LecturesService from '../../../services/lectures.services'\r\n// import SectionsService from '../../../services/sections.services'\r\nimport Modal from '../../shared/Modal'\r\nimport UploadsService from '../../../services/uploads.service'\r\nimport Spinner from '../../shared/Spinner'\r\n\r\nconst LectureForm = (props) =>  {\r\n\r\n    const [lectureInput, setLectureInput] = useState({\r\n            sectionId: props.sectionId,\r\n            name: '',\r\n            sectionNumber: props.sectionNumber,\r\n            lectureNumber: '',\r\n            typeOfLecture: 'video',\r\n            description: '',\r\n            videoUrl: '',\r\n            imageUrl: '',\r\n            isUploading: false,\r\n            authors: [props.loggedUser?._id],\r\n            freeAccess: false,\r\n            courseId: props.courseId,\r\n            temporaryTag: '',\r\n            tags: [],\r\n            addTagEnabled: true,\r\n    })\r\n\r\n    const lecturesService = new LecturesService()\r\n    // const sectionsService = new SectionsService()\r\n    \r\n    const uploadsService = new UploadsService()\r\n\r\n\r\n\r\n    const handleInputChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        setLectureInput((prevLectureInput) => {\r\n            return { ...prevLectureInput, [name]: value }\r\n        } )\r\n\r\n    }\r\n\r\n    const addTag = (e) => {\r\n        e.preventDefault()\r\n        if( lectureInput.temporaryTag.trim() !== ''){\r\n            const tempTags = [...lectureInput.tags, lectureInput.temporaryTag]\r\n            setLectureInput((prevLectureInput) => {\r\n                return { ...prevLectureInput, tags: tempTags, temporaryTag: ''  }\r\n            } )     \r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleFileUpload = e => {\r\n\r\n        setLectureInput((prevLectureInput) => {\r\n            return { ...prevLectureInput, isUploading: true }\r\n        } )\r\n\r\n        const uploadData = new FormData()\r\n        uploadData.append('imageData', e.target.files[0])\r\n\r\n        uploadsService\r\n            .uploadImage(uploadData)\r\n            .then(response => {\r\n                console.log(response.data.cloudinary_url)\r\n                setLectureInput((prevLectureInput) => {\r\n                    return { ...prevLectureInput, isUploading: false, imageUrl: response.data.cloudinary_url}\r\n                    // return { ...prevLectureInput, isUploading: false, imageUrl: response.data.secure_url}\r\n                } )\r\n            })\r\n            // this.setState({ isUploading: false, coaster: { ...this.state.coaster, imageUrl: response.data.secure_url } }))\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        // console.log(props.courseId)\r\n\r\n\r\n        lecturesService\r\n            .saveLecture(lectureInput)\r\n            .then((newLecture) => {\r\n\r\n                setLectureInput({\r\n                    name: '',\r\n                    sectionNumber: '',\r\n                    lectureNumber: '',\r\n                    typeOfLecture: 'video',\r\n                    description: '',\r\n                    videoUrl: '',\r\n                    imageUrl: '',\r\n                    isUploading: false,\r\n                    authors: [props.loggedUser?._id],\r\n                    freeAccess: false,\r\n                    sectionId: props.sectionId,\r\n                    courseId: props.courseId,\r\n                    temporaryTag: '',\r\n                    tags: [],\r\n                    addTagEnabled: true,\r\n                })\r\n\r\n                props.hideForm()\r\n                props.toggleShowClasses()\r\n                props.renderList()\r\n\r\n            })\r\n            .catch(err => console.log(err))\r\n\r\n    }\r\n\r\n\r\n        return (\r\n            <Modal>\r\n            <Container>\r\n\r\n                <Form onSubmit={handleFormSubmit}>\r\n\r\n                    <Form.Group controlId=\"name\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.name} onChange={handleInputChange} name=\"name\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"lectureNumber\">\r\n                        <Form.Label>Lecture Number</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.lectureNumber} onChange={handleInputChange} name=\"lectureNumber\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"desc\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.description} onChange={handleInputChange} name=\"description\" />\r\n                    </Form.Group>\r\n\r\n<Form.Group controlId=\"typeOfLecture\">\r\n    <Form.Label>Type of Lecture</Form.Label>\r\n    <Form.Control as=\"select\" type=\"text\" value={lectureInput.typeOfLecture} onChange={handleInputChange} name=\"typeOfLecture\" custom=\"true\">\r\n        <option value=\"\">-- Select the lecture type --</option>\r\n        <option value=\"video\">Video</option>\r\n        <option value=\"written\">Written document - Pdf</option>\r\n        <option value=\"other\">Other format</option>\r\n    </Form.Control>                     \r\n</Form.Group>\r\n\r\n\r\n<Row style={{ alignItems: 'bottom' }}>\r\n    <Col xs={6} md={3}>\r\n        <Form.Group controlId=\"temporaryTag\">\r\n            <Form.Label>Tags</Form.Label>\r\n            <Form.Control type=\"text\" value={lectureInput.temporaryTag} onChange={handleInputChange} name=\"temporaryTag\" />\r\n        </Form.Group>\r\n    </Col>\r\n    <Col xs={6} md={3}>\r\n        <Button style={{ marginTop: '2em', width: '100%' }} variant=\"dark\" onClick={addTag} disabled = {!lectureInput.addTagEnabled}>\r\n            Add tag\r\n        </Button>\r\n    </Col>\r\n    <Col xs={12} md={6} style={{ marginTop: '1.8em'}}>\r\n        <ListGroup horizontal>\r\n            {lectureInput.tags.map( (tag, index) => <ListGroup.Item key={index}>{tag}</ListGroup.Item>)}\r\n        </ListGroup>\r\n    </Col>\r\n</Row>\r\n\r\n                    {/* <Form.Group controlId=\"typeOfLecture\">\r\n                        <Form.Label>Type of Lecture</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.typeOfLecture} onChange={handleInputChange} name=\"typeOfLecture\" />\r\n                    </Form.Group> */}\r\n\r\n                    <Form.Group controlId=\"videoUrl\">\r\n                        <Form.Label>Video Url</Form.Label>\r\n                        <Form.Control type=\"text\" value={lectureInput.videoUrl} onChange={handleInputChange} name=\"videoUrl\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"imageUrl\">\r\n                        <Form.Label>Imagen (URL)</Form.Label>\r\n                        <Form.Control type=\"file\" onChange={e => handleFileUpload(e)} />\r\n                    </Form.Group>\r\n\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'10%' }} variant=\"dark\" onClick={props.hideForm}>Cancel</Button>\r\n                    <Button style={{ marginTop: '20px', width: '30%', marginLeft:'20%' }} variant=\"dark\" type=\"submit\" disabled={lectureInput.isUploading}>\r\n                        {lectureInput.isUploading ? 'Uploading' : 'Create lecture'}\r\n                    </Button>\r\n                    {lectureInput.isUploading && <div style={{float: 'right'}}><Spinner size={30}/></div>}\r\n\r\n\r\n                </Form>\r\n\r\n            </Container>\r\n            </Modal>\r\n        )\r\n\r\n}\r\n\r\nexport default LectureForm","export default __webpack_public_path__ + \"static/media/down-arrow-svgrepo-com.1edfab86.svg\";","export default __webpack_public_path__ + \"static/media/up-arrow-svgrepo-com.4c6abf93.svg\";","import React from 'react'\r\n\r\nimport classes from './SectionPage.module.css'\r\nimport DropDownArrow from './down-arrow-svgrepo-com.svg'\r\nimport FallUpArrow from './up-arrow-svgrepo-com.svg'\r\n\r\n\r\nconst DropDownListArrow = props => {\r\n\r\n    const {showLectures, toggleShowLectures} = props\r\n \r\n\r\n    return(\r\n        <div className={classes.block}>            \r\n            <div className={classes.smallPicContainer} onClick={toggleShowLectures}>\r\n                <img className={classes.smallPic} src={showLectures ? FallUpArrow : DropDownArrow} alt=\"DropDownArrow\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DropDownListArrow","import { Component } from \"react\";\r\nimport SectionsService from \"../../../services/sections.services\";\r\nimport LecturesList from \"../LecturePage/LecturesList\";\r\nimport classes from './SectionPage.module.css';\r\nimport SectionForm from \"../SectionForm/SectionForm\";\r\nimport SectionEditForm from \"../SectionForm/SectionEditForm\";\r\nimport LectureForm from \"../LectureForm/LectureForm\";\r\nimport Spinner from './../../shared/Spinner'\r\nimport DropDownListArrow from \"./DropDownListArrow\";\r\n// import PlayLecture from './play-svgrepo-com.svg'\r\n// import AddLecture from './add-to-svgrepo-com.svg'\r\n// import EditLecture from './edit-svgrepo-com.svg'\r\n\r\nimport { Container} from 'react-bootstrap'\r\n//<SectionCard key={sectionId} courseId={courseId} sectionId = {sectionId}  loggedUser={loggedUser} renderList={renderList}/>\r\n\r\nclass SectionCard extends Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            section: undefined,\r\n            showLectures: false,\r\n            newSectionFormIsShown: false,\r\n            editSectionFormIsShown: false,\r\n            newLectureFormIsShown: false,\r\n        }\r\n        this.sectionService = new SectionsService()\r\n    }\r\n\r\n    loadSectionsList = () => {\r\n        const {sectionId, loggedUser} = this.props\r\n        // const showLectures = (loggedUser===undefined)\r\n        const showLectures = (loggedUser===undefined) || (loggedUser!==undefined && this.props.freeCourse)\r\n        this.sectionService\r\n            .getSection(sectionId)\r\n            .then( res => this.setState({section: res.data, showLectures: showLectures}))\r\n            // .then( res => this.setState({section: res.data}))\r\n            .catch( err => console.log(err))\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadSectionsList()\r\n    }\r\n\r\n    toggleShowLectures = () => {\r\n        // ADDITIONAL_INFO \r\n        // doar cand desfasor lista cu lectures pt o noua sectiune, capul de sectiune se aliniaza, facand lectures vizibile\r\n        // cand ascund lista de lectures nu centrez\r\n        !this.state.showLectures && this.props.setCurrentSection(this.state.section.sectionNumber)\r\n        this.setState({showLectures: !this.state.showLectures})\r\n    }\r\n\r\n    toggleNewSectionForm = () => {\r\n        this.setState({newSectionFormIsShown: !this.state.newSectionFormIsShown})\r\n    }\r\n\r\n    toggleEditSectionForm = () => {\r\n        this.setState({editSectionFormIsShown: !this.state.editSectionFormIsShown})\r\n    }\r\n\r\n    toggleNewLectureForm = () => {\r\n        this.setState({newLectureFormIsShown: !this.state.newLectureFormIsShown})\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => prevState.newSectionFormIsShown !== this.state.newSectionFormIsShown && this.loadSectionsList()\r\n\r\n\r\n    render(){\r\n\r\n        return(\r\n            !this.state.section\r\n            ?\r\n            // <h4>waiting3...</h4>\r\n            <Spinner size={60}/>\r\n            :\r\n            <>\r\n\r\n\r\n                <Container className={classes.sectionContainer} id={`section${this.state.section.sectionNumber}`}>\r\n\r\n                    <div className={classes.sectionTitleContainer}>\r\n\r\n                        <div className={classes.block} style={{width: '70%'}}>\r\n                            <h5 style={{ marginBottom: '0px'}}>{this.state.section.sectionNumber} - {this.state.section.name}</h5 >\r\n                        </div>\r\n\r\n                        <DropDownListArrow toggleShowLectures={this.toggleShowLectures} showLectures={this.state.showLectures}  />\r\n                        \r\n                    </div>\r\n\r\n\r\n                    {\r\n                        this.state.showLectures &&  \r\n                        <LecturesList sectionId={this.state.section._id} lectures={this.state.section.lectures}  loggedUser={this.props.loggedUser}\r\n                             hideForm={this.toggleNewLectureForm} renderList={this.props.renderList} \r\n                             currentVideo={this.props.currentVideo} setCurrentVideo={this.props.setCurrentVideo}\r\n                             setCurrentLecture={this.props.setCurrentLecture}\r\n                             refreshSectionsList={this.props.refreshSectionsList}\r\n                             freeCourse={this.props.freeCourse} lecturesCount={this.props.lecturesCount}/>\r\n                    }\r\n\r\n                    {\r\n                        this.state.showLectures && this.props.loggedUser?.role === 'admin' && this.state.section.lectures.length === 0 &&\r\n\r\n                        <div className={classes.block}>     \r\n                            <button className=\"btn btn-dark\" onClick={this.toggleNewLectureForm}>\r\n                                Adauga Lectie                     \r\n                            </button>            \r\n                        </div>\r\n                    }\r\n\r\n\r\n                    {\r\n                        this.state.showLectures && this.props.loggedUser?.role === 'admin' &&\r\n                        <div className={classes.block}>\r\n     \r\n                            <button className=\"btn btn-dark\" onClick={this.toggleNewSectionForm}>\r\n                                Adauga Sectiune                     \r\n                            </button>            \r\n                        </div>\r\n                    }\r\n\r\n\r\n                    {\r\n                        this.state.showLectures && this.props.loggedUser?.role === 'admin' &&\r\n                        <div className={classes.block}>\r\n     \r\n                            <button className=\"btn btn-warning\" onClick={this.toggleEditSectionForm}>\r\n                                Editeaza Sectiune                     \r\n                            </button>            \r\n                        </div>\r\n                    }\r\n                    \r\n\r\n                </Container >\r\n\r\n                {this.state.newSectionFormIsShown && \r\n                <SectionForm courseId={this.props.courseId} hideForm={this.toggleNewSectionForm} renderList={this.props.renderList}\r\n                    toggleShowLectures={this.toggleShowLectures} loggedUser={this.props.loggedUser}/>}\r\n\r\n                    {this.state.editSectionFormIsShown && \r\n                    <SectionEditForm courseId={this.props.courseId} hideForm={this.toggleEditSectionForm} renderList={this.props.renderList}\r\n                        toggleShowLectures={this.toggleShowLectures} loggedUser={this.props.loggedUser} sectionId={this.props.sectionId}/>}\r\n\r\n                {this.state.newLectureFormIsShown && \r\n                <LectureForm courseId={this.props.courseId} sectionId={this.state.section?._id} sectionNumber={this.state.section?.sectionNumber} \r\n                    hideForm={this.toggleNewLectureForm} renderList={this.props.renderList}\r\n                    toggleShowLectures={this.toggleShowLectures} loggedUser={this.props.loggedUser}/>}\r\n\r\n\r\n\r\n            \r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SectionCard\r\n\r\n\r\n            // <Row className=\"justify-content-around\">\r\n            //     <Col md={6}>\r\n            //         <h1>{this.state.section.name}</h1>\r\n            //         <p>{this.state.section.description}</p>\r\n\r\n            //         <hr></hr>\r\n\r\n                    \r\n            //         {/* <Link to=\"/courses\" className=\"btn btn-dark\">Lista de cursuri</Link> */}\r\n            //         <button className=\"btn btn-dark\" onClick={this.toggleShowLectures} style={{ marginLeft: '20px' }}>\r\n            //             {this.state.showLectures ? 'Ascunde cuprins' : 'Arata cuprins'}                        \r\n            //         </button>\r\n\r\n            //     </Col>\r\n\r\n            // </Row>","// import { useState } from 'react'\r\nimport SectionCard from \"./SectionCard\";\r\nimport { Component } from \"react\";\r\n\r\nclass SectionsList extends Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            currentSection: '1',\r\n            currentLecture: '1',\r\n            refreshSectionsList: true,\r\n        }\r\n    }\r\n\r\n    refreshSectionsList = () => {\r\n        this.setState({\r\n            refreshSectionsList: !this.refreshSectionsList\r\n        })\r\n    }\r\n\r\n    setCurrentLecture = (sectionNumber, lectureNumber) => {\r\n        this?.setState({currentSection: sectionNumber, currentLecture: lectureNumber})\r\n    }\r\n\r\n    setCurrentSection = (sectionNumber) => {\r\n        this?.setState({currentSection: sectionNumber})\r\n    }\r\n\r\n    // to be refactored so after scrolling down, the lecture would be aligned on click - the current problem is generated by the this.state.currentLecture not changing\r\n    scrollIntoViewCurrentLecture = () => {        \r\n        const currentLectureID = `lecture${this.state.currentLecture}`\r\n        const element = currentLectureID ? document.getElementById(currentLectureID) : null;\r\n        if (element){\r\n            element?.scrollIntoView({ behavior: \"smooth\", block: \"center\" }); \r\n        }\r\n    }\r\n\r\n    // TO BE ADDED WHEN THE SECTION'S ARE REVEALED\r\n    scrollIntoViewCurrentSection = () => {\r\n        const currentSectionID = `section${this.state.currentSection}`\r\n        const element = currentSectionID ? document.getElementById(currentSectionID) : null;\r\n        if (element){\r\n            element?.scrollIntoView({ behavior: \"smooth\", block: \"center\" }); \r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        if( prevState.currentLecture !== this.state.currentLecture){\r\n            this.scrollIntoViewCurrentLecture()\r\n        }\r\n        if( prevState.currentSection !== this.state.currentSection && prevState.currentLecture === this.state.currentLecture){\r\n            this.scrollIntoViewCurrentSection()\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        const {courseId, freeCourse, lecturesCount, sections, loggedUser, renderList, currentVideo, setCurrentVideo} = this.props\r\n        // const {courseId, freeCourse, lecturesCount, sections, loggedUser, renderList, currentLecture, currentSection, setCurrentLecture, \r\n        //         currentVideo, setCurrentVideo} = this.props\r\n        // const sectionsListOverflowStyle = loggedUser? {height:'80vh', overflowY:'scroll'} : {}\r\n        return(\r\n            // <div style={sectionsListOverflowStyle}>\r\n            <div style={{height:'80vh', overflowY:'scroll'}}>\r\n            {sections.map(sectionId => <SectionCard key={sectionId} \r\n                courseId={courseId} freeCourse={freeCourse} lecturesCount={lecturesCount}\r\n                sectionId = {sectionId}  loggedUser={loggedUser} \r\n                renderList={renderList} \r\n                currentLecture={this.currentLecture} currentSection={this.currentSection}\r\n                setCurrentLecture={this.setCurrentLecture} setCurrentSection={this.setCurrentSection}\r\n                currentVideo={currentVideo} setCurrentVideo={setCurrentVideo}\r\n                refreshSectionsList={this.refreshSectionsList}/>)}\r\n            {/* {sections.map(sectionId => <SectionCard key={sectionId} courseId={courseId} sectionId = {sectionId}  loggedUser={loggedUser} renderList={renderList}/>)} */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n// const SectionsList = ({courseId, sections, loggedUser, renderList, currentLecture, currentSection, setCurrentLecture, currentVideo, setCurrentVideo}) => {\r\n\r\n//     // const [changedList, setChangedList] = useState(false)\r\n\r\n\r\n//     // const renderList = () =>{\r\n//     //     // setChangedList( !changedList  )\r\n//     //     setChangedList((prevStatus) => {\r\n//     //         return !prevStatus\r\n//     //     } )\r\n//     // }\r\n\r\n//     // SCROLL INTO VIEW THE CURRENT SECTION\r\n//     // const currentSectionID = `section${currentSection}`\r\n//     // const currentSectionID = `section${1}`\r\n//     // const currentSectionID = `section${2}`\r\n//     const currentSectionID = `section${3}`\r\n//     console.log(currentSectionID)\r\n\r\n//     const element = currentSectionID ? document.getElementById(currentSectionID) : null;\r\n//     if (element){\r\n//         console.log('heyheyhey')\r\n//         element?.scrollIntoView(); \r\n//     }\r\n\r\n//     return(\r\n//         // <h1>LecturesList</h1>\r\n//         <div style={{height:'40vh', overflowY:'scroll'}}>\r\n//         {sections.map(sectionId => <SectionCard key={sectionId} courseId={courseId} sectionId = {sectionId}  loggedUser={loggedUser} \r\n//             renderList={renderList} \r\n//             currentLecture={currentLecture} currentSection={currentSection} setCurrentLecture={setCurrentLecture}\r\n//             currentVideo={currentVideo} setCurrentVideo={setCurrentVideo}/>)}\r\n//         {/* {sections.map(sectionId => <SectionCard key={sectionId} courseId={courseId} sectionId = {sectionId}  loggedUser={loggedUser} renderList={renderList}/>)} */}\r\n        \r\n//         </div>\r\n//     )\r\n// }\r\n\r\nexport default SectionsList\r\n\r\n\r\n","import axios from 'axios' \r\n \r\n class UsersService{\r\n\r\n    constructor(){\r\n        this.app = axios.create({\r\n            baseURL: process.env.REACT_APP_BASE_URL + '/users',\r\n            // baseURL: 'https://matecumatei-server.herokuapp.com/api/users',\r\n            // baseURL: 'http://localhost:5000/api/users',\r\n            withCredentials: true\r\n        })\r\n    }\r\n\r\n    getAllUsers = () => this.app.get('/')\r\n    getUser = userId => this.app.get(`/${userId}`)\r\n    // saveUser = (user_info) => this.app.post('/new', user_info)\r\n    editUser = (user, changePassword) => this.app.put(`/edit/${user._id}`, {user, changePassword})\r\n }\r\n\r\n export default UsersService","import { Component } from \"react\"\r\nimport UsersService from \"../../../services/users.services\"\r\nimport Spinner from \"../../shared/Spinner\"\r\n\r\nclass InstructorCard extends Component {\r\n\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            author: undefined\r\n        }\r\n        this.userService = new UsersService()\r\n    }\r\n\r\n    loadInstructor = () => {\r\n        const {instructorId} = this.props\r\n        this.userService\r\n            .getUser(instructorId)\r\n            .then( res => this.setState({author: res.data}))\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadInstructor()\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            !this.state.author \r\n            ?\r\n            <Spinner size={60}/>\r\n            :\r\n            <>\r\n                <h2>{this.state.author.name} {this.state.author.surname}</h2>\r\n                <p>Despre mine:</p>\r\n                {\r\n                    this.state.author.description.map( (paragraph, keyNum) => <p key={keyNum}>{paragraph}</p>)\r\n                }\r\n            </>\r\n          )\r\n    }\r\n\r\n\r\n  }\r\n  export default InstructorCard","// import Tab from 'react-bootstrap/Tab'\r\n// import Tabs from 'react-bootstrap/Tabs'\r\n\r\nfunction Overview({course}) {\r\n  \r\n  return (\r\n    <>\r\n        <h2>Prezentare generala:</h2>\r\n        <h4>About this course:</h4>\r\n        <hr/>\r\n        <h4>Numbers:</h4>\r\n        <ul>\r\n            <li>Skill level: {course.skillLevel}</li>\r\n            <li>Students: {course.students.length}</li>\r\n            <li>Language: {course.language}</li>\r\n            <li>Lectures: {course.lecturesNumber}</li>\r\n            <li>Total video duration: {course.totalTimeInSeconds}</li>\r\n        </ul>\r\n        <hr/>\r\n        <h4>Description:</h4>\r\n        <p>{course.description}</p>\r\n        {/* <ul>\r\n            <li>Highlights</li>\r\n            <li>What you get</li>\r\n            <li>What you'll learn</li>\r\n            <li>Course requirements / prerequisites</li>\r\n            <li>Who this course is for</li>\r\n        </ul> */}\r\n        <hr/>\r\n    </>\r\n  )\r\n}\r\nexport default Overview","import React from 'react'\r\n\r\nimport classes from './CurriculumLectureModal.module.css';\r\n\r\nconst CurriculumLectureModal = props => {\r\n\r\n\r\n    return(\r\n        <>\r\n            <div className={classes.backdrop} />\r\n            <div className={classes.modal}>\r\n                {/* <iframe width=\"100%\" height=\"360\" src={props.videoUrl}\r\n                    title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n                    allowfullscreen=\"allowfullscreen\">\r\n                </iframe> */}\r\n                <iframe src={props.videoUrl} width=\"100%\" height=\"360\"\r\n                    allow=\"autoplay; fullscreen; picture-in-picture\" title=\"01 Structura cursului 6 FEB\">\r\n                </iframe>\r\n                <button className=\"btn btn-light\" onClick={props.toggleShowLecture} style={{width: '100%'}}>\r\n                    {props.showLecture ? 'Ascunde lectia' : 'Arata lectia'}                        \r\n                </button>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default CurriculumLectureModal","import { Container} from \"react-bootstrap\"\r\n// import LectureModal from '../LecturePage/LectureModal'\r\nimport CurriculumLectureModal from \"./CurriculumLectureModal\";\r\nimport classes from './CurriculumLecturePage.module.css';\r\n\r\n// import PlayLecture from '../SectionPage/play-svgrepo-com.svg'\r\n// import AddLecture from '../SectionPage/add-to-svgrepo-com.svg'\r\n// import EditLecture from '../SectionPage/edit-svgrepo-com.svg'\r\nimport FreeAccess from '../SectionPage/duotone-eye-open-svgrepo-com.svg'\r\nimport RestrictedAccess from '../SectionPage/duotone-eye-closed-svgrepo-com.svg'\r\n\r\nimport LecturesService from '../../../services/lectures.services';\r\nimport { Component } from 'react';\r\n\r\nclass CurriculumLectureCard extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            showVideoInModal: false,\r\n            // freeAccess could be removed\r\n            freeAccess: false,\r\n            lecture: undefined\r\n        }\r\n        this.lecturesService = new LecturesService()\r\n    }\r\n\r\n    toggleShowLecture = () => {\r\n        this.setState({\r\n            showVideoInModal: !this.state.showVideoInModal\r\n        })\r\n    }\r\n\r\n    toggleLectureAccess = () => {\r\n        const lectureInput = {_id: this.state.lecture._id, freeAccess: !this.state.freeAccess}\r\n        this.lecturesService\r\n            .editLecture(lectureInput)\r\n            .then(res => console.log('toggled'))\r\n            .catch(err => console.log(err))\r\n        const tempLectureObject = {...this.state.lecture, freeAccess: !this.state.freeAccess}\r\n        this.setState({\r\n            lecture: tempLectureObject,\r\n            freeAccess: !this.state.freeAccess\r\n        })\r\n        this.props.refreshSectionsList()\r\n\r\n    }\r\n\r\n\r\n    loadLectureCard = () => {\r\n        const {lecture} = this.props\r\n        this.lecturesService\r\n            .getLecture(lecture._id)\r\n            .then(res => this.setState({lecture: res.data, freeAccess:res.data.freeAccess}))\r\n            .catch( err => console.log(err))\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadLectureCard()\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => prevState.freeAccess !== this.state.freeAccess && this.loadLectureCard()\r\n\r\n\r\n    render(){\r\n        const {lecture, loggedUser, currentVideo} = this.props\r\n        // am renuntat la unele variabile definite dar nefolosite\r\n        // const {lecture, loggedUser, hideForm, renderList, currentVideo, setCurrentVideo, setCurrentLecture} = this.props\r\n        \r\n        // let visibilityCondition = loggedUser || ( !loggedUser && ( lecture.freeAccess ? 'flex' : 'none' ) )\r\n        //loggedUser && this.state.section?.sectionNumber < this.props.currentSection ? 'none' : 'flex'\r\n        // const visibilityCondition = {display: visibilityCondition}\r\n\r\n        const setCurrentVideoSectionAndLecture = () => {\r\n            // setCurrentVideo(lecture.videoUrl)\r\n            // setCurrentLecture(lecture.sectionNumber, lecture.lectureNumber)\r\n        }\r\n        const activeColor = currentVideo === lecture.videoUrl ? '#ebe8e8' : '#fff'\r\n        return(\r\n            <>\r\n                <Container className={classes.container} onClick={setCurrentVideoSectionAndLecture}\r\n                    style={{background: activeColor}}\r\n                    id={`clecture${lecture.lectureNumber}`}>\r\n\r\n                    <div className={classes.block}  style={{width: '70%'}}>\r\n                        <h5 style={{ marginBottom: '0px', fontSize:'1em'}}>{lecture.sectionNumber}.{lecture.lectureNumber} - {lecture.name}</h5 >\r\n                    </div>\r\n\r\n                    {\r\n                    loggedUser\r\n                    ?\r\n                    null\r\n                    :\r\n                    <div className={classes.block}>\r\n                        <div className={classes.smallPicContainer} onClick={this.state.freeAccess ? this.toggleShowLecture : null}> \r\n                            <img className={classes.smallPic} src={this.state.freeAccess ? FreeAccess : RestrictedAccess} alt=\"play lecture\"/>\r\n                        </div>    \r\n                    </div>\r\n                    }\r\n\r\n                {/* {\r\n                    loggedUser?.role !== 'admin'\r\n                    ?\r\n                    null\r\n                    :\r\n                    <div className={classes.block} onClick={this.toggleLectureAccess}>           \r\n                        <div className={classes.smallPicContainer}>\r\n                            <img className={classes.smallPic} src={this.state.freeAccess ? FreeAccess : RestrictedAccess} alt=\"play lecture\"/>\r\n                        </div>\r\n                    </div>\r\n                } */}\r\n\r\n                {/* {\r\n                    !this.showVideoInModal && loggedUser?.role === 'admin' &&\r\n                    <>\r\n                    <div className={classes.block}>            \r\n                        <div className={classes.smallPicContainer}>\r\n                            <img className={classes.smallPic} src={EditLecture} alt=\"edit lecture\"/>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={classes.block}>            \r\n                        <div className={classes.smallPicContainer} onClick={hideForm}>\r\n                            <img className={classes.smallPic} src={AddLecture} alt=\"add lecture\"/>\r\n                        </div>\r\n                    </div>\r\n                    </>\r\n                } */}\r\n\r\n                </Container>\r\n\r\n                {\r\n                    this.state.showVideoInModal\r\n                    &&\r\n                    <CurriculumLectureModal videoUrl = {lecture.videoUrl} toggleShowLecture={this.toggleShowLecture} showLecture={this.state.showVideoInModal} />\r\n\r\n                    // <iframe width=\"560\" height=\"315\" src={lecture.videoUrl}\r\n                    //     title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n                    //     allowfullscreen=\"allowfullscreen\">\r\n                    // </iframe>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default CurriculumLectureCard","// import LectureCard from \"../LecturePage/LectureCard\";\r\nimport CurriculumLectureCard from \"./CurriculumLectureCard\";\r\n\r\nconst CurriculumLecturesList = ({lectures, loggedUser, hideForm, renderList, currentVideo, setCurrentVideo, setCurrentLecture, refreshSectionsList}) => {\r\n\r\n    return(\r\n        // <h1>LecturesList</h1>\r\n        <>\r\n        {lectures.map(lecture => <CurriculumLectureCard lecture = {lecture}  loggedUser={loggedUser}  \r\n            hideForm={hideForm} renderList={renderList} key={lecture._id}\r\n            currentVideo={currentVideo} setCurrentVideo={setCurrentVideo}\r\n            setCurrentLecture={setCurrentLecture}\r\n            refreshSectionsList={refreshSectionsList}/>)}\r\n        \r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default CurriculumLecturesList","import { Component } from \"react\";\r\nimport SectionsService from \"../../../services/sections.services\";\r\n// import LecturesList from \"../LecturePage/LecturesList\";\r\nimport classes from './CurriculumSectionPage.module.css';\r\nimport SectionForm from \"../SectionForm/SectionForm\";\r\nimport LectureForm from \"../LectureForm/LectureForm\";\r\nimport Spinner from '../../shared/Spinner'\r\nimport CurriculumLecturesList from \"./CurriculumLecturesList\";\r\nimport DropDownListArrow from \"../SectionPage/DropDownListArrow\";\r\n// import PlayLecture from './play-svgrepo-com.svg'\r\n// import AddLecture from './add-to-svgrepo-com.svg'\r\n// import EditLecture from './edit-svgrepo-com.svg'\r\n\r\nimport { Container} from 'react-bootstrap'\r\n//<SectionCard key={sectionId} courseId={courseId} sectionId = {sectionId}  loggedUser={loggedUser} renderList={renderList}/>\r\n\r\nclass CurriculumSectionCard extends Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            section: undefined,\r\n            showLectures: true,\r\n            newSectionFormIsShown: false,\r\n            newLectureFormIsShown: false,\r\n        }\r\n        this.sectionService = new SectionsService()\r\n    }\r\n\r\n    loadSectionsList = () => {\r\n        const {sectionId} = this.props\r\n        this.sectionService\r\n            .getSection(sectionId)\r\n            .then( res => this.setState({section: res.data}))\r\n            // .then( res => this.setState({section: res.data}))\r\n            .catch( err => console.log(err))\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadSectionsList()\r\n    }\r\n\r\n    toggleShowLectures = () => {\r\n        // ADDITIONAL_INFO \r\n        // doar cand desfasor lista cu lectures pt o noua sectiune, capul de sectiune se aliniaza, facand lectures vizibile\r\n        // cand ascund lista de lectures nu centrez\r\n        !this.state.showLectures && this.props.setCurrentSection(this.state.section.sectionNumber)\r\n        this.setState({showLectures: !this.state.showLectures})\r\n    }\r\n\r\n    toggleNewSectionForm = () => {\r\n        this.setState({newSectionFormIsShown: !this.state.newSectionFormIsShown})\r\n    }\r\n\r\n    toggleNewLectureForm = () => {\r\n        this.setState({newLectureFormIsShown: !this.state.newLectureFormIsShown})\r\n    }\r\n\r\n    componentDidUpdate = (prevProps, prevState) => prevState.newSectionFormIsShown !== this.state.newSectionFormIsShown && this.loadSectionsList()\r\n\r\n\r\n    render(){\r\n\r\n        return(\r\n            !this.state.section\r\n            ?\r\n            // <h4>waiting3...</h4>\r\n            <Spinner size={60}/>\r\n            :\r\n            <>\r\n\r\n                <Container className={classes.sectionContainer} id={`csection${this.state.section.sectionNumber}`}>\r\n\r\n                    <div className={classes.sectionTitleContainer}>\r\n\r\n                        <div className={classes.block} style={{width: '70%'}}>\r\n                            <h5 style={{ marginBottom: '0px'}}>{this.state.section.sectionNumber} - {this.state.section.name} \r\n                            {this.state.section.grade ? ` (Clasa a ${this.state.section.grade}-a)` : ''}</h5 >\r\n                        </div>\r\n\r\n                        <DropDownListArrow toggleShowLectures={this.toggleShowLectures} showLectures={this.state.showLectures}  />\r\n                        \r\n                    </div>\r\n\r\n\r\n                    {\r\n                        this.state.showLectures &&  \r\n                        <CurriculumLecturesList sectionId={this.state.section._id} lectures={this.state.section.lectures}  loggedUser={this.props.loggedUser}\r\n                             hideForm={this.toggleNewLectureForm} renderList={this.props.renderList} \r\n                             currentVideo={this.props.currentVideo} setCurrentVideo={this.props.setCurrentVideo}\r\n                             setCurrentLecture={this.props.setCurrentLecture}\r\n                             refreshSectionsList={this.props.refreshSectionsList}/>\r\n                    }\r\n\r\n                    {\r\n                        this.state.showLectures && this.props.loggedUser?.role === 'admin' && this.state.section.lectures.length === 0 &&\r\n\r\n                        <div className={classes.block}>     \r\n                            <button className=\"btn btn-dark\" onClick={this.toggleNewLectureForm}>\r\n                                Adauga Lectie                     \r\n                            </button>            \r\n                        </div>\r\n                    }\r\n\r\n\r\n                    {\r\n                        this.state.showLectures && this.props.loggedUser?.role === 'admin' &&\r\n                        <div className={classes.block}>\r\n     \r\n                            <button className=\"btn btn-dark\" onClick={this.toggleNewSectionForm}>\r\n                                Adauga Sectiune                     \r\n                            </button>            \r\n                        </div>\r\n                    }\r\n                    \r\n\r\n                </Container >\r\n\r\n                {this.state.newSectionFormIsShown && \r\n                <SectionForm courseId={this.props.courseId} hideForm={this.toggleNewSectionForm} renderList={this.props.renderList}\r\n                    toggleShowLectures={this.toggleShowLectures}/>}\r\n\r\n                {this.state.newLectureFormIsShown && \r\n                <LectureForm sectionId={this.state.section?._id} sectionNumber={this.state.section?.sectionNumber} \r\n                    hideForm={this.toggleNewLectureForm} renderList={this.props.renderList}\r\n                    toggleShowLectures={this.toggleShowLectures}/>}\r\n\r\n\r\n\r\n            \r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default CurriculumSectionCard\r\n\r\n\r\n            // <Row className=\"justify-content-around\">\r\n            //     <Col md={6}>\r\n            //         <h1>{this.state.section.name}</h1>\r\n            //         <p>{this.state.section.description}</p>\r\n\r\n            //         <hr></hr>\r\n\r\n                    \r\n            //         {/* <Link to=\"/courses\" className=\"btn btn-dark\">Lista de cursuri</Link> */}\r\n            //         <button className=\"btn btn-dark\" onClick={this.toggleShowLectures} style={{ marginLeft: '20px' }}>\r\n            //             {this.state.showLectures ? 'Ascunde cuprins' : 'Arata cuprins'}                        \r\n            //         </button>\r\n\r\n            //     </Col>\r\n\r\n            // </Row>","// import { useState } from 'react'\r\nimport CurriculumSectionCard from \"./CurriculumSectionCard\";\r\nimport { Component } from \"react\";\r\n\r\nclass Curriculum extends Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state={\r\n            currentSection: '1',\r\n            currentLecture: '1',\r\n            refreshSectionsList: true,\r\n        }\r\n    }\r\n\r\n    refreshSectionsList = () => {\r\n        this.setState({\r\n            refreshSectionsList: !this.refreshSectionsList\r\n        })\r\n    }\r\n\r\n    setCurrentLecture = (sectionNumber, lectureNumber) => {\r\n        this?.setState({currentSection: sectionNumber, currentLecture: lectureNumber})\r\n    }\r\n\r\n    setCurrentSection = (sectionNumber) => {\r\n        this?.setState({currentSection: sectionNumber})\r\n    }\r\n\r\n    // to be refactored so after scrolling down, the lecture would be aligned on click - the current problem is generated by the this.state.currentLecture not changing\r\n    scrollIntoViewCurrentLecture = () => {        \r\n        const currentLectureID = `clecture${this.state.currentLecture}`\r\n        const element = currentLectureID ? document.getElementById(currentLectureID) : null;\r\n        if (element){\r\n            element?.scrollIntoView(); \r\n        }\r\n    }\r\n\r\n    // TO BE ADDED WHEN THE SECTION'S ARE REVEALED\r\n    scrollIntoViewCurrentSection = () => {\r\n        const currentSectionID = `csection${this.state.currentSection}`\r\n        const element = currentSectionID ? document.getElementById(currentSectionID) : null;\r\n        if (element){\r\n            element?.scrollIntoView(); \r\n        }\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        if( prevState.currentLecture !== this.state.currentLecture){\r\n            this.scrollIntoViewCurrentLecture()\r\n        }\r\n        if( prevState.currentSection !== this.state.currentSection && prevState.currentLecture === this.state.currentLecture){\r\n            this.scrollIntoViewCurrentSection()\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        const {courseId, sections, loggedUser, renderList, currentVideo, setCurrentVideo} = this.props\r\n        // am renuntat la trei variabile definite dar nefolosite\r\n        // const {courseId, sections, loggedUser, renderList, currentLecture, currentSection, setCurrentLecture, currentVideo, setCurrentVideo} = this.props\r\n        // const sectionsListOverflowStyle = loggedUser? {height:'80vh', overflowY:'scroll'} : {}\r\n        return(\r\n            // <div style={sectionsListOverflowStyle}>\r\n            <div style={{height:'40vh', overflowY:'scroll'}}>\r\n            {sections.map(sectionId => <CurriculumSectionCard key={sectionId} courseId={courseId} sectionId = {sectionId}  loggedUser={loggedUser} \r\n                renderList={renderList} \r\n                currentLecture={this.currentLecture} currentSection={this.currentSection}\r\n                setCurrentLecture={this.setCurrentLecture} setCurrentSection={this.setCurrentSection}\r\n                currentVideo={currentVideo} setCurrentVideo={setCurrentVideo}\r\n                refreshSectionsList={this.refreshSectionsList}/>)}\r\n            {/* {sections.map(sectionId => <SectionCard key={sectionId} courseId={courseId} sectionId = {sectionId}  loggedUser={loggedUser} renderList={renderList}/>)} */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default Curriculum\r\n\r\n\r\n","import Tab from 'react-bootstrap/Tab'\r\nimport Tabs from 'react-bootstrap/Tabs'\r\n// import Curriculum from './Curriculum'\r\nimport InstructorCard from '../InstructorDetails/InstructorCard'\r\nimport Overview from './Overview'\r\n// import Reviews from './Reviews'\r\nimport Curriculum from './Curriculum'\r\n// import SectionsList from '../SectionPage/SectionsList'\r\n\r\n\r\n//WORKAROUND daca o transform in componenta de clasa si in stare definesc defaultActiveKey = 'nimic', pot inactiva taburile cand vizualizez lectiile si \r\n//rezolv problema cu scrollUp\r\nfunction CourseTabs({course, loggedUser, renderList, setCurrentVideo}) {\r\n  return (\r\n    <Tabs\r\n      // defaultActiveKey={'t'}\r\n      defaultActiveKey={loggedUser ? \"overview\" : \"curriculum\"}\r\n      id=\"uncontrolled-tab-example\"\r\n      className=\"mb-3\"\r\n    >\r\n      {/* // Plan de curs apare doar daca userul nu are cont */}\r\n      {\r\n      !loggedUser || !course.freeAccessForFirstThirdOfAllLectures\r\n      ?\r\n      <Tab eventKey=\"curriculum\" title=\"Plan de curs\">\r\n        <Curriculum courseId={course._id} sections={course?.sections}  \r\n                        loggedUser={loggedUser} renderList={renderList}\r\n                        setCurrentVideo={setCurrentVideo}/>\r\n        {/* <Curriculum course={course}/> */}\r\n      </Tab>\r\n      :\r\n      null\r\n      }\r\n      <Tab eventKey=\"overview\" title=\"Prezentare generala\">\r\n        <Overview course={course}/>\r\n      </Tab>\r\n      <Tab eventKey=\"instructor\" title=\"Instructor\">\r\n        <InstructorCard course={course} instructorId={course.authors[0]}/>\r\n      </Tab>\r\n      {/* <Tab eventKey=\"reviews\" title=\"Opinii\" >\r\n        <Reviews course={course}/>\r\n      </Tab> */}\r\n    </Tabs>\r\n  )\r\n}\r\n\r\nexport default CourseTabs","function CourseHeader({course}) {\r\n\r\n    const style = { background: '#212529', color: 'white', textAlign: 'center', fontSize: '.7em', padding: '.5em', width: '100%' }\r\n    const {name} = course\r\n    return (\r\n        <>\r\n            <p style={style}>{name}</p>\r\n        </>\r\n    )\r\n  }\r\n  export default CourseHeader","import React from 'react'\r\nimport { Container, Row} from 'react-bootstrap';\r\n\r\n// import classes from './LectureModal.module.css';\r\n\r\nconst LectureVideo = props => {\r\n\r\n    const {videoUrl} = props\r\n\r\n    let containerStyle = {padding: '0'}\r\n    let rowStyle = {padding: '0', margin:'0'}\r\n \r\n\r\n    return(\r\n        <Container fluid style={containerStyle}>\r\n            <Row className=\"ratio ratio-16x9\" style={rowStyle}>\r\n                <iframe src={videoUrl} className='col'\r\n                    allow=\"autoplay; fullscreen; picture-in-picture\" title=\"01 Structura cursului 6 FEB\" >\r\n                </iframe>\r\n            </Row>\r\n        </Container>\r\n\r\n    )\r\n}\r\n\r\nexport default LectureVideo","import { Component } from \"react\";\r\nimport CoursesService from \"../../../services/courses.services\";\r\nimport SectionsList from \"../SectionPage/SectionsList\";\r\nimport Spinner from './../../shared/Spinner'\r\nimport SectionForm from \"../SectionForm/SectionForm\";\r\nimport classes from '../SectionPage/SectionPage.module.css';\r\n\r\nimport { Row, Col} from 'react-bootstrap'\r\n// import {Link} from 'react-router-dom'\r\nimport CourseTabs from \"./CourseTabs\";\r\nimport CourseHeader from \"./CourseHeader\";\r\nimport LectureVideo from \"../LecturePage/LectureVideo\";\r\n\r\n\r\n\r\nclass CourseDetails extends Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            course: undefined,\r\n            showSections: false,\r\n            currentSection: 3,\r\n            currentLecture: 1,\r\n            currentVideo: undefined,\r\n            newSectionFormIsShown: false,\r\n        }\r\n        this.courseService = new CoursesService()\r\n    }\r\n\r\n    loadDetailsPage(){\r\n        const {course_id} = this.props.match.params\r\n        this.courseService\r\n            .getCourse(course_id)\r\n            .then( res => this.setState({course: res.data, currentVideo: res.data.currentVideo}))\r\n            .catch( err => console.log(err))\r\n    }\r\n\r\n    setCurrentSectionAndLecture(sectionNumber, lectureNumber){\r\n        this?.setState({currentSection: sectionNumber, currentLecture: lectureNumber})\r\n    }\r\n\r\n    setCurrentVideo = (videoUrl) => {\r\n        this.setState({currentVideo: videoUrl})\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.loadDetailsPage()\r\n        // window.scrollTo(0, 0)\r\n    }\r\n\r\n    // componentDidUpdate = (prevProps, prevState) => prevState.currentVideo !== this.state.currentVideo && window.scrollTo(0, 0)\r\n\r\n    toggleShowSections = () => {\r\n        this.setState({showSections: !this.state.showSections})\r\n    }\r\n\r\n    // componentDidUpdate(prevProps, prevState){\r\n    //     if( prevState.currentVideo !== this.state.currentVideo){\r\n    //         // this.scrollIntoViewCurrentSection()\r\n    //     }\r\n    // }\r\n\r\n    // renderList could be removed --> should update the page, but does not work\r\n    renderList = () =>{\r\n        this.loadDetailsPage()\r\n    }\r\n\r\n    toggleNewSectionForm = () => {\r\n        this.setState({newSectionFormIsShown: !this.state.newSectionFormIsShown})\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n        return(\r\n            !this.state.course\r\n            ?\r\n            <Spinner size={60}/>\r\n            :\r\n            <>\r\n            <CourseHeader course = {this.state.course}/>\r\n            <Row className=\"justify-content-around\">\r\n                <Col md={7} style={{marginBottom: '1em'}}>\r\n                    <LectureVideo videoUrl={this.state.currentVideo} style={{width:\"100%\", margin:0, padding:0}}/>\r\n                    <hr/>\r\n\r\n                    {/* <p>Pret: <s> {this.state.course.price}$  </s> <strong style={{ color : 'red' }}>  {this.state.course.discountedPrice}$ </strong></p>\r\n\r\n                    <hr></hr> */}\r\n\r\n                    {/* DE PASTRAT DEOCAMDATA */}\r\n                    {/* <Link to=\"/courses\" className=\"btn btn-dark\">Lista de cursuri</Link> */}\r\n                    {/* <button className=\"btn btn-dark\" onClick={this.toggleShowSections} style={{ marginLeft: '20px' }}>\r\n                        {this.state.showSections ? 'Ascunde cuprins' : 'Arata cuprins'}                        \r\n                    </button> */}\r\n\r\n                    {/* {!this.state.course.sections || (this.state.course?.sections.length === 1 && this.state.course.sections[0]==='')\r\n                    ?\r\n                    <>\r\n                    <p>Todavia no hay sections...</p>\r\n                    </>\r\n                    :\r\n                    null\r\n                    } */}\r\n\r\n                    <CourseTabs course={this.state.course} loggedUser={this.props.loggedUser} renderList={this.renderList}\r\n                        setCurrentVideo={this.setCurrentVideo}/>\r\n\r\n                </Col>\r\n\r\n                <Col md={4}>\r\n                    {/* <img src={this.state.course.image} alt={this.state.course.name} style={{ width: '100%' }} /> */}\r\n                    {(!this.state.course.sections || this.state.course?.sections.length === 0)\r\n                    ?\r\n                    <>\r\n                        <p>Todavia no hay sectiones...</p>\r\n                        {\r\n                            ( this.props.loggedUser?.role === 'admin' || this.state.course?.authors.includes(this.props.loggedUser?._id) ) &&\r\n                            <div className={classes.block}>\r\n        \r\n                                <button className=\"btn btn-dark\" onClick={this.toggleNewSectionForm}>\r\n                                    Adauga Sectiune                     \r\n                                </button>            \r\n                            </div>\r\n                        }\r\n                        {\r\n                            this.state.newSectionFormIsShown && \r\n                            <SectionForm courseId={this.state.course._id} hideForm={this.toggleNewSectionForm} renderList={this.renderList}/>\r\n                        }\r\n                    </>\r\n                    \r\n                    :\r\n                    <>\r\n                    {\r\n                        this.props.loggedUser?.role === 'admin' || this.props.loggedUser?.courses.includes(this.state.course._id) \r\n                            || ( this.props.loggedUser !== undefined && this.state.course.freeAccessForFirstThirdOfAllLectures)\r\n                        ?\r\n                        <h5>Continutul cursului:</h5>\r\n                        :\r\n                        <h5>Continut cu acces liber:</h5>\r\n                    }\r\n                    {/* <CourseHeader course={{name: 'Continut cu acces liber:'}}/> */}\r\n                    <SectionsList courseId={this.state.course._id} \r\n                        freeCourse={this.state.course.freeAccessForFirstThirdOfAllLectures} \r\n                        lecturesCount={this.state.course.lectures.length} \r\n                        sections={this.state.course?.sections}  \r\n                        loggedUser={this.props.loggedUser} \r\n                        renderList={this.renderList} \r\n                        currentLecture={this.state.currentLecture} setCurrentSectionAndLecture={this.setCurrentLecture}\r\n                        currentSection={this.state.currentSection}\r\n                        setCurrentVideo={this.setCurrentVideo}\r\n                        currentVideo={this.state.currentVideo}/>\r\n                    </>\r\n                    }\r\n                </Col>\r\n            </Row>\r\n\r\n                    {\r\n                        // this.state.showSections && <LecturesList courseId={this.state.course._id} lectures={this.state.course.lectures}/>\r\n                    }\r\n                    {/* {\r\n\r\n                        this.state.showSections && <SectionsList courseId={this.state.course._id} sections={this.state.course?.sections}  \r\n                            loggedUser={this.props.loggedUser} renderList={this.renderList}/>\r\n                    } */}\r\n\r\n                    {/* {!this.state.course.sections || (this.state.course?.sections.length === 1 && this.state.course.sections[0]==='') */}\r\n                    \r\n                    \r\n                    {(!this.state.course.sections || this.state.course?.sections.length === 0)\r\n                    ?\r\n                    this.state.showSections && <p>Todavia no hay sections...</p>\r\n                    :\r\n                    this.state.showSections && <SectionsList courseId={this.state.course._id} sections={this.state.course?.sections}  \r\n                        loggedUser={this.props.loggedUser} renderList={this.renderList}/>\r\n                    }\r\n\r\n\r\n            \r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default CourseDetails","import { useState } from 'react'\r\nimport { Form, Button, Container, ListGroup, Row, Col } from 'react-bootstrap'\r\n// import { Form, Button, Container, ListGroup, Row, Col, InputGroup } from 'react-bootstrap'\r\nimport CoursesService from '../../../services/courses.services'\r\nimport UploadsService from '../../../services/uploads.service'\r\n// import DropDownArrow from './down-arrow-svgrepo-com.svg'\r\n// import classes from './CourseForm.module.css'\r\n\r\nconst CourseForm = (props) =>  {\r\n\r\n    const [courseInput, setCourseInput] = useState({\r\n            name: '',\r\n            description: '',\r\n            typeOfCourse: '',\r\n            position: '',\r\n            tags: [],\r\n            price: '',\r\n            discountedPrice: '',\r\n            skillLevel: 'mediu',\r\n            language: 'română',\r\n            allPlatformPromotions: [],\r\n            freeAccessForFirstThirdOfAllLectures: true,\r\n            image: '',\r\n            owner: props.loggedUser?._id,\r\n            authors: [props.loggedUser?._id],\r\n            temporaryTag: '',\r\n            addTagEnabled: true,\r\n    })\r\n\r\n    const coursesService = new CoursesService()\r\n    const uploadsService = new UploadsService()\r\n\r\n    const handleInputChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        // React SCHEDULES state updates, does not perform them instantly ==> if more updates scheduled, wrong state might be used\r\n        // INSTEAD OF:\r\n\r\n        // setCourseInput({\r\n        //     ...courseInput,\r\n        //     [name]: value\r\n        // })\r\n\r\n        // WE USE:\r\n\r\n        setCourseInput((prevCourseInput) => {\r\n            return { ...prevCourseInput, [name]: value }\r\n        } )\r\n\r\n        // and React GUARANTEES the latest state will be used\r\n\r\n        // IF STATE UPDATE DEPENDS ON THE PREVIOUS STATE, USE THE ARROW FUNCTION\r\n    }\r\n\r\n    const handleCheckboxChange = e => {\r\n        const { name, checked } = e.target\r\n\r\n        setCourseInput((prevCourseInput) => {\r\n            return { ...prevCourseInput, [name]: checked }\r\n        } )\r\n    }\r\n\r\n    const addTag = (e) => {\r\n        e.preventDefault()\r\n        if( courseInput.temporaryTag.trim() !== ''){\r\n            const tempTags = [...courseInput.tags, courseInput.temporaryTag]\r\n            setCourseInput((prevCourseInput) => {\r\n                return { ...prevCourseInput, tags: tempTags, temporaryTag: ''  }\r\n            } )     \r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        // console.log(courseInput)\r\n\r\n        coursesService\r\n            .saveCourse(courseInput)\r\n            .then(() => {\r\n                // this.props.closeModal()\r\n                // this.props.refreshCoasters()\r\n                setCourseInput({\r\n                    name: '',\r\n                    description: '',\r\n                    about: '',\r\n                    temporaryTag: '',\r\n                    tags: [],\r\n                    typeOfCourse: '',\r\n                    position: '',\r\n                    price: '',\r\n                    discountedPrice: '',\r\n                    skillLevel: 'mediu',\r\n                    language: 'română',\r\n                    allPlatformPromotions: [],\r\n                    freeAccessForFirstThirdOfAllLectures: false,\r\n                    image: '',\r\n                    owner:'',\r\n                    authors:[],\r\n                    addTagEnabled: true,\r\n                })\r\n                props.history.push('/courses')\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const handleFileUpload = e => {\r\n\r\n        // this.setState({ loading: true })\r\n\r\n        const uploadData = new FormData()\r\n        uploadData.append('imageData', e.target.files[0])\r\n\r\n        uploadsService\r\n            .uploadImage(uploadData)\r\n            .then(response => {\r\n                setCourseInput((prevCourseInput) => {\r\n                return { ...prevCourseInput, image: response.data.cloudinary_url }\r\n            } )\r\n                // this.setState({\r\n                //     loading: false,\r\n                //     coaster: { ...this.state.coaster, imageUrl: response.data.cloudinary_url }\r\n                // })\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n        return (\r\n            <Container>\r\n\r\n                <Form onSubmit={handleFormSubmit}>\r\n\r\n                    <Form.Group controlId=\"name\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.name} onChange={handleInputChange} name=\"name\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"about\">\r\n                        <Form.Label>About</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.about} onChange={handleInputChange} name=\"about\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"desc\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.description} onChange={handleInputChange} name=\"description\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"NewCourseFormType\">\r\n                        <Form.Label>Type</Form.Label>\r\n                        <Form.Control as=\"select\" type=\"text\" value={courseInput.typeOfCourse} onChange={handleInputChange} name=\"typeOfCourse\" custom=\"true\">\r\n                            <option value=\"\">-- Select the course type --</option>\r\n                            <option value=\"video\">Video</option>\r\n                            <option value=\"written\">Written document - Pdf</option>\r\n                            <option value=\"other\">Other format</option>\r\n                        </Form.Control>                     \r\n                    </Form.Group>\r\n\r\n                    {/* <Form.Group controlId=\"NewCourseFormType\">\r\n                        <Form.Label>Type</Form.Label>\r\n                        <div className=\"input-group\">\r\n                            <Form.Control as=\"select\" type=\"text\" value={courseInput.typeOfCourse} onChange={handleInputChange} name=\"typeOfCourse\" custom=\"true\">\r\n                                <option value=\"\">-- Select the course type --</option>\r\n                                <option value=\"video\">Video</option>\r\n                                <option value=\"written\">Written document - Pdf</option>\r\n                                <option value=\"other\">Other format</option>\r\n                            </Form.Control>\r\n                            <div className=\"input-group-append\">\r\n                                <div className=\"input-group-text\" style={{height:'100'}}>\r\n                                    <div className={classes.smallPicContainer}>\r\n                                        <img className={classes.smallPic} src={DropDownArrow} alt=\"DropDownArrow\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>                        \r\n                    </Form.Group> */}\r\n\r\n                    <Form.Group controlId=\"skillLevel\">\r\n                        <Form.Label>Skill Level</Form.Label>\r\n                        <Form.Control as=\"select\" type=\"text\" value={courseInput.skillLevel} onChange={handleInputChange} name=\"skillLevel\" custom=\"true\">\r\n                            <option value=\"\">-- Select the skill level --</option>\r\n                            <option value=\"beginner\">Începător</option>\r\n                            <option value=\"intermediate\">Mediu</option>\r\n                            <option value=\"expert\">Avansat</option>\r\n                        </Form.Control>                     \r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"language\">\r\n                        <Form.Label>Language</Form.Label>\r\n                        <Form.Control as=\"select\" type=\"text\" value={courseInput.language} onChange={handleInputChange} name=\"language\" custom=\"true\">\r\n                            <option value=\"\">-- Select the language --</option>\r\n                            <option value=\"română\">Română</option>\r\n                            <option value=\"engleză\">Engleză</option>\r\n                            <option value=\"spaniolă\">Spaniolă</option>\r\n                        </Form.Control>                     \r\n                    </Form.Group>\r\n\r\n                    <Row style={{ alignItems: 'bottom' }}>\r\n                        <Col xs={6} md={4}>\r\n                            <Form.Group controlId=\"temporaryTag\">\r\n                                <Form.Label>Tags</Form.Label>\r\n                                <Form.Control type=\"text\" value={courseInput.temporaryTag} onChange={handleInputChange} name=\"temporaryTag\" />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={6} md={2}>\r\n                            <Button style={{ marginTop: '2em', width: '100%' }} variant=\"dark\" onClick={addTag} disabled = {!courseInput.addTagEnabled}>\r\n                                Add tag\r\n                            </Button>\r\n                        </Col>\r\n                        <Col xs={12} md={6} style={{ marginTop: '1.8em'}}>\r\n                            <ListGroup horizontal>\r\n                                {courseInput.tags.map( tag => <ListGroup.Item>{tag}</ListGroup.Item>)}\r\n                            </ListGroup>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Position</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.position} onChange={handleInputChange} name=\"position\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Price</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.price} onChange={handleInputChange} name=\"price\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Discounted Price</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.discountedPrice} onChange={handleInputChange} name=\"discountedPrice\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"freeAccessForFirstThirdOfAllLectures\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            checked={courseInput.freeAccessForFirstThirdOfAllLectures}\r\n                            onChange={handleCheckboxChange}\r\n                            name=\"freeAccessForFirstThirdOfAllLectures\"\r\n                            label=\"Free access for first third of all lectures\"\r\n                            inline\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/* <InputGroup className=\"mb-3\">\r\n                        <InputGroup.Checkbox aria-label=\"Checkbox for following text input\" onChange={handleCheckboxChange} name=\"allPlatformPromotions\" />\r\n                    </InputGroup> */}\r\n\r\n                    {/* <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Imagen (URL)</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.image} onChange={handleInputChange} name=\"image\" />\r\n                    </Form.Group> */}\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Image (file) </Form.Label>\r\n                        <Form.Control type=\"file\" onChange={handleFileUpload} />\r\n                    </Form.Group>\r\n\r\n                    <Button style={{ marginTop: '20px', width: '100%' }} variant=\"dark\" type=\"submit\">Create course</Button>\r\n\r\n                </Form>\r\n\r\n            </Container>\r\n        )\r\n\r\n}\r\n\r\nexport default CourseForm","import { useState, useEffect } from 'react'\r\nimport { Form, Button, Container, ListGroup, Row, Col } from 'react-bootstrap'\r\n// import { Form, Button, Container, ListGroup, Row, Col, InputGroup } from 'react-bootstrap'\r\nimport CoursesService from '../../../services/courses.services'\r\nimport UploadsService from '../../../services/uploads.service'\r\n// import DropDownArrow from './down-arrow-svgrepo-com.svg'\r\n// import classes from './CourseForm.module.css'\r\n\r\nconst CourseEditForm = (props) =>  {\r\n\r\n    const [courseInput, setCourseInput] = useState({\r\n            name: '',\r\n            description: '',\r\n            typeOfCourse: 'video',\r\n            position: 0,\r\n            tags: [],\r\n            price: 0,\r\n            discountedPrice: 0,\r\n            skillLevel: 'intermediate',\r\n            language: 'română',\r\n            allPlatformPromotions: [],\r\n            freeAccessForFirstThirdOfAllLectures: true,\r\n            image: '',\r\n            owner: props.loggedUser?._id,\r\n            authors: [props.loggedUser?._id],\r\n            temporaryTag: '',\r\n            addTagEnabled: true,\r\n    })\r\n\r\n    const coursesService = new CoursesService()\r\n    const uploadsService = new UploadsService()\r\n\r\n    useEffect(() => {   \r\n        const coursesService2 = new CoursesService() \r\n        coursesService2\r\n            .getCourse(props.match?.params.course_id, props.match?.params.populated)\r\n            .then(response => {\r\n                setCourseInput(prevCourseInput => ({\r\n                    ...prevCourseInput,\r\n                    ...response.data\r\n                }));\r\n                })\r\n            .catch(err => console.log(err));\r\n      }, [props.match?.params.course_id, props.match?.params.populated]);\r\n\r\n    const handleInputChange = e => {\r\n        const { name, value } = e.target\r\n\r\n        // React SCHEDULES state updates, does not perform them instantly ==> if more updates scheduled, wrong state might be used\r\n        // INSTEAD OF:\r\n\r\n        // setCourseInput({\r\n        //     ...courseInput,\r\n        //     [name]: value\r\n        // })\r\n\r\n        // WE USE:\r\n\r\n        setCourseInput((prevCourseInput) => {\r\n            return { ...prevCourseInput, [name]: value }\r\n        } )\r\n\r\n        // and React GUARANTEES the latest state will be used\r\n\r\n        // IF STATE UPDATE DEPENDS ON THE PREVIOUS STATE, USE THE ARROW FUNCTION\r\n    }\r\n\r\n    const handleCheckboxChange = e => {\r\n        const { name, checked } = e.target\r\n\r\n        setCourseInput((prevCourseInput) => {\r\n            return { ...prevCourseInput, [name]: checked }\r\n        } )\r\n    }\r\n\r\n    const addTag = (e) => {\r\n        e.preventDefault()\r\n        if( courseInput.temporaryTag.trim() !== ''){\r\n            const tempTags = [...courseInput.tags, courseInput.temporaryTag]\r\n            setCourseInput((prevCourseInput) => {\r\n                return { ...prevCourseInput, tags: tempTags, temporaryTag: ''  }\r\n            } )     \r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        // console.log(courseInput)\r\n\r\n        coursesService\r\n            .editCourse(courseInput)\r\n            .then(() => {\r\n                // this.props.closeModal()\r\n                // this.props.refreshCoasters()\r\n                setCourseInput({\r\n                    name: '',\r\n                    description: '',\r\n                    about: '',\r\n                    temporaryTag: '',\r\n                    tags: [],\r\n                    typeOfCourse: 'video',\r\n                    position: 0,\r\n                    price: 100,\r\n                    discountedPrice: 100,\r\n                    skillLevel: 'intermediate',\r\n                    language: 'română',\r\n                    allPlatformPromotions: [],\r\n                    freeAccessForFirstThirdOfAllLectures: false,\r\n                    image: '',\r\n                    owner:'',\r\n                    authors:[],\r\n                    addTagEnabled: true,\r\n                })\r\n                props.history.push('/courses')\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const handleFileUpload = e => {\r\n\r\n        // this.setState({ loading: true })\r\n\r\n        const uploadData = new FormData()\r\n        uploadData.append('imageData', e.target.files[0])\r\n\r\n        uploadsService\r\n            .uploadImage(uploadData)\r\n            .then(response => {\r\n                setCourseInput((prevCourseInput) => {\r\n                return { ...prevCourseInput, image: response.data.cloudinary_url }\r\n            } )\r\n                // this.setState({\r\n                //     loading: false,\r\n                //     coaster: { ...this.state.coaster, imageUrl: response.data.cloudinary_url }\r\n                // })\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n        return (\r\n            <Container>\r\n\r\n                <Form onSubmit={handleFormSubmit}>\r\n\r\n                    <Form.Group controlId=\"name\">\r\n                        <Form.Label>Title</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.name} onChange={handleInputChange} name=\"name\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"about\">\r\n                        <Form.Label>About</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.about} onChange={handleInputChange} name=\"about\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"desc\">\r\n                        <Form.Label>Description</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.description} onChange={handleInputChange} name=\"description\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"NewCourseFormType\">\r\n                        <Form.Label>Type</Form.Label>\r\n                        <Form.Control as=\"select\" type=\"text\" value={courseInput.typeOfCourse} onChange={handleInputChange} name=\"typeOfCourse\" custom=\"true\">\r\n                            <option value=\"\">-- Select the course type --</option>\r\n                            <option value=\"video\">Video</option>\r\n                            <option value=\"written\">Written document - Pdf</option>\r\n                            <option value=\"other\">Other format</option>\r\n                        </Form.Control>                     \r\n                    </Form.Group>\r\n\r\n                    {/* <Form.Group controlId=\"NewCourseFormType\">\r\n                        <Form.Label>Type</Form.Label>\r\n                        <div className=\"input-group\">\r\n                            <Form.Control as=\"select\" type=\"text\" value={courseInput.typeOfCourse} onChange={handleInputChange} name=\"typeOfCourse\" custom=\"true\">\r\n                                <option value=\"\">-- Select the course type --</option>\r\n                                <option value=\"video\">Video</option>\r\n                                <option value=\"written\">Written document - Pdf</option>\r\n                                <option value=\"other\">Other format</option>\r\n                            </Form.Control>\r\n                            <div className=\"input-group-append\">\r\n                                <div className=\"input-group-text\" style={{height:'100'}}>\r\n                                    <div className={classes.smallPicContainer}>\r\n                                        <img className={classes.smallPic} src={DropDownArrow} alt=\"DropDownArrow\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>                        \r\n                    </Form.Group> */}\r\n\r\n                    <Form.Group controlId=\"skillLevel\">\r\n                        <Form.Label>Skill Level</Form.Label>\r\n                        <Form.Control as=\"select\" type=\"text\" value={courseInput.skillLevel} onChange={handleInputChange} name=\"skillLevel\" custom=\"true\">\r\n                            <option value=\"\">-- Select the skill level --</option>\r\n                            <option value=\"beginner\">Începător</option>\r\n                            <option value=\"intermediate\">Mediu</option>\r\n                            <option value=\"expert\">Avansat</option>\r\n                        </Form.Control>                     \r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"language\">\r\n                        <Form.Label>Language</Form.Label>\r\n                        <Form.Control as=\"select\" type=\"text\" value={courseInput.language} onChange={handleInputChange} name=\"language\" custom=\"true\">\r\n                            <option value=\"\">-- Select the language --</option>\r\n                            <option value=\"română\">Română</option>\r\n                            <option value=\"engleză\">Engleză</option>\r\n                            <option value=\"spaniolă\">Spaniolă</option>\r\n                        </Form.Control>                     \r\n                    </Form.Group>\r\n\r\n                    <Row style={{ alignItems: 'bottom' }}>\r\n                        <Col xs={6} md={4}>\r\n                            <Form.Group controlId=\"temporaryTag\">\r\n                                <Form.Label>Tags</Form.Label>\r\n                                <Form.Control type=\"text\" value={courseInput.temporaryTag} onChange={handleInputChange} name=\"temporaryTag\" />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={6} md={2}>\r\n                            <Button style={{ marginTop: '2em', width: '100%' }} variant=\"dark\" onClick={addTag} disabled = {!courseInput.addTagEnabled}>\r\n                                Add tag\r\n                            </Button>\r\n                        </Col>\r\n                        <Col xs={12} md={6} style={{ marginTop: '1.8em'}}>\r\n                            <ListGroup horizontal>\r\n                                {courseInput.tags.map( tag => <ListGroup.Item>{tag}</ListGroup.Item>)}\r\n                            </ListGroup>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Position</Form.Label>\r\n                        <Form.Control type=\"number\" value={courseInput.position} onChange={handleInputChange} name=\"position\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Price</Form.Label>\r\n                        <Form.Control type=\"number\" value={courseInput.price} onChange={handleInputChange} name=\"price\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Discounted Price</Form.Label>\r\n                        <Form.Control type=\"number\" value={courseInput.discountedPrice} onChange={handleInputChange} name=\"discountedPrice\" />\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"freeAccessForFirstThirdOfAllLectures\">\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            checked={courseInput.freeAccessForFirstThirdOfAllLectures}\r\n                            onChange={handleCheckboxChange}\r\n                            name=\"freeAccessForFirstThirdOfAllLectures\"\r\n                            label=\"Free access for first third of all lectures\"\r\n                            inline\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/* <InputGroup className=\"mb-3\">\r\n                        <InputGroup.Checkbox aria-label=\"Checkbox for following text input\" onChange={handleCheckboxChange} name=\"allPlatformPromotions\" />\r\n                    </InputGroup> */}\r\n\r\n                    {/* <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Imagen (URL)</Form.Label>\r\n                        <Form.Control type=\"text\" value={courseInput.image} onChange={handleInputChange} name=\"image\" />\r\n                    </Form.Group> */}\r\n\r\n                    <Form.Group controlId=\"lng\">\r\n                        <Form.Label>Image (file) </Form.Label>\r\n                        <Form.Control type=\"file\" onChange={handleFileUpload} />\r\n                        {courseInput.image}\r\n                    </Form.Group>\r\n\r\n                    <Button style={{ marginTop: '20px', width: '100%' }} variant=\"dark\" type=\"submit\">Edit course</Button>\r\n\r\n                </Form>\r\n\r\n            </Container>\r\n        )\r\n\r\n}\r\n\r\nexport default CourseEditForm","import axios from 'axios'\r\n\r\nclass AuthService {\r\n\r\n    constructor() {\r\n        this.app = axios.create({\r\n            baseURL: process.env.REACT_APP_BASE_URL,\r\n            // baseURL: 'https://matecumatei-server.herokuapp.com/api/',\r\n            // baseURL: 'http://localhost:5000/api/',\r\n            withCredentials: true\r\n        })\r\n    }\r\n\r\n    login = (email, pwd) => this.app.post('/login', { email, pwd } )\r\n    signup = (email, pwd, name, surname, username) => this.app.post('/signup', { email, pwd, name, surname, username } )\r\n    logout = () => this.app.get('/logout')\r\n    isLoggedIn = () => this.app.post('/isLoggedIn' )\r\n}\r\n\r\nexport default AuthService","import { Component } from 'react'\r\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap'\r\n// import { Link } from 'react-router-dom'\r\n\r\nimport AuthService from '../../../services/auth.services'\r\n\r\nclass Signup extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            email: '',\r\n            pwd: '',\r\n            name: '',\r\n            surname: '',\r\n            username: '',\r\n        }\r\n        this.authService = new AuthService()\r\n    }\r\n\r\n\r\n    handleInputChange = e => {\r\n        const { name, value } = e.target\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n\r\n    handleFormSubmit = e => {\r\n\r\n        e.preventDefault()\r\n\r\n        const { email, pwd, name, surname, username } = this.state\r\n\r\n        this.authService\r\n            .signup(email, pwd, name, surname, username)\r\n            .then(() => this.props.history.push('/logIn'))          // Redirect with props\r\n            .catch(err => this.props.handleAlert(err.response.data.err, 10000, 'warning', true))\r\n            // .catch(err => console.log(JSON.stringify(err)))\r\n            // .catch(err => this.props.handleAlert(err.response ? err.response.data.err : err.message, 10000, 'warning', true))\r\n            // .catch(err => console.log(err))\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <Container>\r\n\r\n                <Row>\r\n\r\n                    <Col md={{ span: 4, offset: 4 }}>\r\n\r\n                        <h1>Sign Up</h1>\r\n\r\n                        <hr></hr>\r\n\r\n                        <Form onSubmit={this.handleFormSubmit}>\r\n\r\n                            <Form.Group controlId=\"email\">\r\n                                <Form.Label>Email*</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.email} onChange={this.handleInputChange} name=\"email\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"pwd\">\r\n                                <Form.Label>Password*</Form.Label>\r\n                                <Form.Control type=\"password\" value={this.state.pwd} onChange={this.handleInputChange} name=\"pwd\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"username\">\r\n                                <Form.Label>Pseudonim*</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.username} onChange={this.handleInputChange} name=\"username\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"name\">\r\n                                <Form.Label>Prenume</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.name} onChange={this.handleInputChange} name=\"name\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"surname\">\r\n                                <Form.Label>Nume de familie</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.surname} onChange={this.handleInputChange} name=\"surname\" />\r\n                            </Form.Group>\r\n\r\n                            <Button style={{ marginTop: '20px', width: '100%' }} variant=\"dark\" type=\"submit\">Sign Up</Button>\r\n\r\n                        </Form>\r\n\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container >\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Signup","import { Component } from 'react'\r\nimport { Container, Form, Button, Row, Col } from 'react-bootstrap'\r\n// import { Link } from 'react-router-dom'\r\n\r\nimport AuthService from '../../../services/auth.services'\r\n\r\nclass LogIn extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            email: '',\r\n            pwd: ''\r\n        }\r\n        this.authService = new AuthService()\r\n    }\r\n\r\n\r\n    handleInputChange = e => {\r\n        const { name, value } = e.target\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n\r\n    handleFormSubmit = e => {\r\n\r\n        e.preventDefault()\r\n\r\n        const { email, pwd } = this.state\r\n\r\n        this.authService\r\n            .login(email, pwd)\r\n            .then(loggedUserfromServer => {\r\n                this.props.storeUser(loggedUserfromServer.data)\r\n                this.props.history.push('/courses')         // Redirect with RRD props\r\n            })\r\n            .catch(err => this.props.handleAlert(err.response.data.err, 10000, 'warning', true))\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <Container>\r\n\r\n                <Row>\r\n\r\n                    <Col md={{ span: 4, offset: 4 }}>\r\n\r\n                        <h1>Log In</h1>\r\n\r\n                        <hr></hr>\r\n\r\n                        <Form onSubmit={this.handleFormSubmit}>\r\n\r\n                            <Form.Group controlId=\"email\">\r\n                                <Form.Label>Email</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.email} onChange={this.handleInputChange} name=\"email\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"pwd\">\r\n                                <Form.Label>Password</Form.Label>\r\n                                <Form.Control type=\"password\" value={this.state.pwd} onChange={this.handleInputChange} name=\"pwd\" />\r\n                            </Form.Group>\r\n\r\n                            <Button style={{ marginTop: '20px', width: '100%' }} variant=\"dark\" type=\"submit\">Log In</Button>\r\n\r\n                        </Form>\r\n\r\n                        {/* <hr></hr>\r\n\r\n                        <Link to=\"/\">\r\n                            <Button variant=\"dark\">Home</Button>\r\n                        </Link> */}\r\n\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container >\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default LogIn","import { Component } from \"react\";\r\nimport UsersService from \"../../../services/users.services\";\r\nimport { Container, Row, Col, Card, Image, Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass UserDetails extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            user: undefined,\r\n        }\r\n        this.userService = new UsersService()\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { userId } = this.props.match.params\r\n        this.userService\r\n            .getUser(userId)\r\n            .then(response => {\r\n                this.setState({\r\n                    user: response.data,\r\n                })\r\n            })\r\n            .catch(err => {\r\n                console.log('Hey', err)\r\n                this.props.handleAlert(['You should login to access this route.'], 5000, 'info')\r\n                this.props.history.push('/login')\r\n            })\r\n    }\r\n\r\n    render(){\r\n        const { user } = this.state;\r\n\r\n        if (!user) {\r\n          return <div>Loading...</div>;\r\n        }\r\n\r\n        return(\r\n            <Container>\r\n                <Row>\r\n                    <Col md={{ span: 6, offset: 3 }}>\r\n                    <Card>\r\n                        <Card.Header>{user.name} {user.surname}</Card.Header>\r\n                        <Card.Body>\r\n                            <Image src={user.avatar} roundedCircle />\r\n                                <p><strong>Email:</strong> {user.email}</p>\r\n                                <p><strong>Pseudonim:</strong> {user.username}</p>\r\n                                <p><strong>Prenume:</strong> {user.name}</p>\r\n                                <p><strong>Nume de familie:</strong> {user.username}</p>\r\n                            <Link className=\"nav-link\" to={`/users/${user._id}/edit`}>\r\n                                <Button style={{ marginTop: '20px', width: '100%' }} variant=\"dark\" type=\"submit\">Edit User</Button>\r\n                            </Link>\r\n                        </Card.Body>\r\n                    </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n          \r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default UserDetails","import { Component } from \"react\";\r\nimport UsersService from \"../../../services/users.services\";\r\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap'\r\n// import { Link } from 'react-router-dom'\r\n\r\nclass UserEditForm extends Component{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            user: undefined,\r\n            showNewPasswordFields: false,\r\n        }\r\n        this.userService = new UsersService()\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        const { name, value } = e.target\r\n        this.setState({user: {...this.state.user, [name]: value}})        \r\n    }\r\n\r\n    handleCheckboxChange = e => {\r\n        const { name, checked } = e.target\r\n        this.setState({[name]: checked})     \r\n    }\r\n\r\n    handleFormSubmit = e => {\r\n        e.preventDefault()\r\n        this.userService\r\n            .editUser(this.state.user, this.state.showNewPasswordFields)\r\n            .then( () => {\r\n                console.log('ok')\r\n                this.props.history.push(`/users/${this.state.user._id}`);\r\n            })\r\n            .catch( err => this.props.handleAlert(err.response.data.err, 10000, 'warning', true))\r\n\r\n    }\r\n\r\n    componentDidMount(){\r\n        const { userId } = this.props.match.params\r\n        this.userService\r\n            .getUser(userId)\r\n            .then(response => {\r\n                this.setState({\r\n                    user: response.data,\r\n                })\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n    }\r\n\r\n    render(){\r\n        const { user } = this.state;\r\n\r\n        if (!user) {\r\n          return <div>Loading...</div>;\r\n        }\r\n\r\n        return(\r\n            <Container>\r\n\r\n                <Row>\r\n\r\n                    <Col md={{ span: 4, offset: 4 }}>\r\n\r\n                        <h1>Update my profile</h1>\r\n\r\n                        <hr></hr>\r\n\r\n                        <Form onSubmit={this.handleFormSubmit}>\r\n\r\n                            <Form.Group controlId=\"email\">\r\n                                <Form.Label>Email*</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.user.email} onChange={this.handleInputChange} name=\"email\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"username\">\r\n                                <Form.Label>Pseudonim*</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.user.username} onChange={this.handleInputChange} name=\"username\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"name\">\r\n                                <Form.Label>Prenume</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.user.name} onChange={this.handleInputChange} name=\"name\" />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"surname\">\r\n                                <Form.Label>Nume de familie</Form.Label>\r\n                                <Form.Control type=\"text\" value={this.state.user.surname} onChange={this.handleInputChange} name=\"surname\" />\r\n                            </Form.Group>\r\n\r\n<hr/>\r\n<Form.Group controlId=\"showNewPasswordFields\">\r\n    <Form.Check\r\n        type=\"checkbox\"\r\n        checked={this.state.showNewPasswordFields}\r\n        onChange={this.handleCheckboxChange}\r\n        name=\"showNewPasswordFields\"\r\n        label=\"Change Password\"\r\n        inline\r\n    />\r\n</Form.Group>\r\n\r\n                            \r\n                            {this.state.showNewPasswordFields \r\n                            &&\r\n                            <>\r\n                            <hr/>\r\n                                <Form.Label>In order to change the password, \r\n                                    <ul>\r\n                                        <li>provide the current password</li>\r\n                                        <li>introduce twice the new password</li>\r\n                                    </ul>\r\n                                </Form.Label>\r\n                                <Form.Group controlId=\"pwd\">\r\n                                    <Form.Label>Current Password</Form.Label>\r\n                                    <Form.Control type=\"password\" value={this.state.user.pwd || ''} onChange={this.handleInputChange} name=\"pwd\" />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"pwdNew1\">\r\n                                    <Form.Label>New Password</Form.Label>\r\n                                    <Form.Control type=\"password\" value={this.state.user.pwdNew1 || ''} onChange={this.handleInputChange} name=\"pwdNew1\" />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"pwdNew2\">\r\n                                    <Form.Label>New Password</Form.Label>\r\n                                    <Form.Control type=\"password\" value={this.state.user.pwdNew2 || ''} onChange={this.handleInputChange} name=\"pwdNew2\" />\r\n                                </Form.Group>\r\n                            </>\r\n                            }\r\n\r\n\r\n\r\n                            <Button style={{ marginTop: '20px', width: '100%' }} variant=\"dark\" type=\"submit\">Update My Info</Button>\r\n\r\n                        </Form>\r\n\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container >\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default UserEditForm","import { Switch, Route } from 'react-router';\r\n\r\nimport IndexPage from './../pages/IndexPage/IndexPage';\r\nimport CoursesPage from './../pages/CoursesPage/CoursesPage';\r\nimport CourseDetails from '../pages/CourseDetails/CourseDetails';\r\nimport CourseForm from '../pages/CourseForm/CourseForm';\r\nimport CourseEditForm from '../pages/CourseForm/CourseEditForm';\r\nimport Signup from '../pages/SignUp/SignUp';\r\nimport LogIn from '../pages/LogIn/LogIn';\r\nimport UserDetails from '../pages/UserDetails/UserDetails';\r\nimport UserEditForm from '../pages/UserDetails/UserEditForm';\r\n\r\nconst Routes = ({ storeUser, loggedUser, handleAlert }) => {\r\n\r\n    return(\r\n        <>\r\n            <Switch>\r\n                <Route path = '/' exact render = { () => <IndexPage/> } />\r\n\r\n                <Route path = '/courses' exact render = { () => <CoursesPage loggedUser={loggedUser}/> } />\r\n                <Route path = '/courses/details/:course_id' render = { props => <CourseDetails {...props} loggedUser={loggedUser}/> } />\r\n                <Route path = '/courses/new' render = { (props) => <CourseForm {...props} loggedUser={loggedUser}/> } />\r\n                <Route path = '/courses/edit/:course_id/:populated' render = { (props) => <CourseEditForm {...props} loggedUser={loggedUser}/> } />\r\n\r\n                <Route path = '/signUp' render = { (props) => <Signup {...props} handleAlert={handleAlert} /> } />\r\n                <Route path = '/logIn' render = { (props) => <LogIn {...props} storeUser={storeUser} handleAlert={handleAlert}/> } />\r\n\r\n                <Route path = '/users/:userId/edit'  render = { (props) => loggedUser ? <UserEditForm {...props} handleAlert={handleAlert}/> : <CoursesPage loggedUser={loggedUser}/> } />\r\n                <Route path = '/users/:userId'  render = { (props) => loggedUser ?  <UserDetails {...props} handleAlert={handleAlert}/> : <CoursesPage loggedUser={loggedUser}/> } />\r\n            </Switch>\r\n        </>        \r\n    )\r\n}\r\n\r\nexport default Routes","import { Navbar, Nav } from 'react-bootstrap'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport './Navigation.css'\r\n\r\nimport AuthService from '../../../services/auth.services'\r\n\r\nconst Navigation = ({ storeUser, loggedUser, handleAlert}) => {\r\n\r\n    const authService = new AuthService()\r\n    const history = useHistory()\r\n    // console.log(history)\r\n\r\n    const logout = () => {\r\n        authService\r\n            .logout()\r\n            .then((res) => {\r\n                storeUser(undefined)\r\n                history.push('/courses')\r\n                handleAlert(res.data.err, 5000, 'info')\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                handleAlert(['There was an error at logout'], 3000, 'info')\r\n                // storeUser(undefined)\r\n                // history.push('/courses')\r\n            })\r\n    }\r\n\r\n\r\n    return (\r\n        // ADDITIONAL_INFO\r\n        // as putea adauga zIndex:10 --> ca sa nu mai apara video peste Navbar\r\n        <Navbar bg=\"dark\" variant=\"dark\" expand=\"md\" style={{ marginBottom: '0px', position: 'fixed', top: 0, width:'100%', zIndex:10 }}>\r\n            <Link className=\"nav-link\" to=\"/\">\r\n                <Navbar.Brand style={{color: 'rgba(255, 255, 255, 0.55)'}}>MateCuMatei</Navbar.Brand >\r\n            </Link>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse className=\"justify-content-end\">\r\n                <Nav className=\"mr-auto\">\r\n                    {/* <Link className=\"nav-link\" to=\"/\">Home</Link> */}\r\n                    <Link className=\"nav-link\" to=\"/courses\">Courses</Link>\r\n\r\n                    {loggedUser && ( loggedUser.role === 'admin' || loggedUser.role === 'superUser' )\r\n                    ?\r\n                    <Link className=\"nav-link\" to=\"/courses/new\">NewCourse</Link>\r\n                    :\r\n                    null                    \r\n                    }\r\n                \r\n                    {!loggedUser\r\n                        ?\r\n                        <>\r\n                            <Link className=\"nav-link\" to=\"/signup\">SignUp</Link>\r\n                            <Link className=\"nav-link\" to=\"/login\">LogIn</Link>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <span className=\"nav-link\" onClick = { () => logout()}>LogOut</span>\r\n                            <Link className=\"nav-link\" to={`/users/${loggedUser._id}`}>My profile   \r\n                            </Link>\r\n                            <span className=\"nav-link\" >Salutare{loggedUser ? ', '+loggedUser.username?.trim().split(' ')[0] : ''}!</span>\r\n                        </>\r\n                    }\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n        </Navbar >\r\n    )\r\n}\r\n\r\nexport default Navigation","import React from 'react';\r\nimport {Container}  from 'react-bootstrap'\r\nimport './FooterSection.css';\r\n\r\nconst FooterSection = ({footerColumnInfo}) => {\r\n    const { title, links } = footerColumnInfo;\r\n  \r\n    const isTwoColumn = links.length >= 5;\r\n  return (\r\n    <>\r\n        <Container>\r\n        <h2 className=\"footer-section-title\">{title}</h2>\r\n        {isTwoColumn ? (\r\n            <div className=\"two-column\">\r\n            <ul className=\"footer-links-list\">\r\n                {links.slice(0, Math.ceil(links.length / 2)).map((link, index) => (\r\n                <li key={index} className=\"footer-link-item\">\r\n                    <a href={link.url} className=\"footer-link\" target=\"_blank\" rel=\"noopener noreferrer\">{link.name}</a>\r\n                </li>\r\n                ))}\r\n            </ul>\r\n            <ul className=\"footer-links-list\">\r\n                {links.slice(Math.ceil(links.length / 2)).map((link, index) => (\r\n                <li key={index} className=\"footer-link-item\">\r\n                    <a href={link.url} className=\"footer-link\" target=\"_blank\" rel=\"noopener noreferrer\">{link.name}</a>\r\n                </li>\r\n                ))}\r\n            </ul>\r\n            </div>\r\n        ) : (\r\n            <ul className=\"footer-links-list\">\r\n            {links.map((link, index) => (\r\n                <li key={index} className=\"footer-link-item\">\r\n                <a href={link.url} className=\"footer-link\" target=\"_blank\" rel=\"noopener noreferrer\">{link.name}</a>\r\n                </li>\r\n            ))}\r\n            </ul>\r\n        )}\r\n        </Container>\r\n    {/* <Container>\r\n        <h2 className=\"footer-section-title\">{footerColumnInfo.title}</h2>\r\n        <ul className=\"footer-links-list\">\r\n            {footerColumnInfo.links.map((link, index) => (\r\n            <li key={index} className=\"footer-link-item\">\r\n                <a href={link.url} className=\"footer-link\" target=\"_blank\" rel=\"noopener noreferrer\">{link.name}</a>\r\n            </li>\r\n            ))}\r\n        </ul>\r\n    </Container> */}\r\n    </>\r\n\r\n  );\r\n};\r\n\r\nexport default FooterSection;","import React, { Component } from 'react';\r\nimport './Footer.css';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport FooterSection from './FooterSection';\r\n\r\nclass Footer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hidden: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  handleScroll = () => {\r\n    const currentScrollPos = window.pageYOffset;\r\n    const visibleThreshold = 50; // tweak this value as needed\r\n    if (currentScrollPos > visibleThreshold) {\r\n      this.setState({ hidden: true });\r\n    } else {\r\n      this.setState({ hidden: false });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { hidden } = this.state;\r\n    const footerSections = [\r\n      {\r\n        title: 'Creatori',\r\n        links: [\r\n          {\r\n            name: 'Despre Noi',\r\n            url: 'https://academia.matecumatei.ro/despre-noi/',\r\n          },\r\n          {\r\n            name: 'Blog',\r\n            url: 'https://academia.matecumatei.ro/blog/',\r\n          },\r\n          {\r\n            name: 'Contact',\r\n            url: 'https://academia.matecumatei.ro/contact/',\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: 'Linkuri utile',\r\n        links: [\r\n          {\r\n            name: 'Întrebări frecvente',\r\n            url: 'https://academia.matecumatei.ro/faqs/',\r\n          },\r\n          {\r\n            name: 'Politica de confidențialitate',\r\n            url: 'https://academia.matecumatei.ro/politica-de-confidentialitate/',\r\n          },\r\n          {\r\n            name: 'Termeni și condiții',\r\n            url: 'https://academia.matecumatei.ro/termeni-si-conditii/',\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        title: 'Rețele sociale',\r\n        links: [\r\n          {\r\n            name: 'Instagram',\r\n            url: 'https://www.instagram.com/matecumatei/',\r\n          },\r\n          {\r\n            name: 'Facebook',\r\n            url: 'https://www.facebook.com/MateCuMatei/',\r\n          },\r\n          {\r\n            name: 'YouTube',\r\n            url: 'https://www.youtube.com/matecumatei/playlists',\r\n          },\r\n          {\r\n            name: 'LinkedIn',\r\n            url: 'https://www.linkedin.com/in/silviu-dilimot/',\r\n          },\r\n          {\r\n            name: 'Twitter',\r\n            url: 'https://twitter.com/MateiCu',\r\n          },\r\n        ],\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <footer className={`footerStyle footerPositioning ${hidden ? 'footer-fade-out hidden' : ''}`}>\r\n        <Row>\r\n          <Col xs={12} md={3}>\r\n            Perseverance leads to inspiration.\r\n          </Col>\r\n          <Col xs={12} md={6} className=\"offset-md-3\">\r\n            <Row>\r\n              {footerSections.map((section, index) => (\r\n                <Col xs={12} md={4} key={index}>\r\n                  <FooterSection footerColumnInfo={section} />\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/logo.f9e09244.png\";","import { Toast } from \"react-bootstrap\"\r\n\r\nimport logo from './logo.png'\r\n\r\nconst Alert = ({ handleAlert, show, text, displayTime, color }) => {\r\n\r\n   const errorMessages = text.map((errorMessage, index) => <p key={index}>{errorMessage}</p>)\r\n\r\n    return (\r\n        <Toast bg={color} autohide delay={displayTime} show={show} onClose={() => handleAlert([''], 0, 'warning', false)} \r\n            style={{ zIndex: 9999, position: 'fixed', bottom: 38, right: 17, width: 300 }}>\r\n            <Toast.Header closeButton={true} closeLabel=''>\r\n                <img\r\n                    src={logo}\r\n                    className=\"rounded mr-2\"\r\n                    alt=\"Logotipo\"\r\n                    style={{ width: '2.5em', height: '2.5em' }}\r\n                />\r\n                <strong className=\"me-auto\"> Mensaje del sistema</strong>\r\n            </Toast.Header>\r\n            <Toast.Body>{errorMessages}</Toast.Body>\r\n        </Toast>\r\n    )\r\n}\r\n\r\n\r\nexport default Alert","import {React } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nconst CookieGDRP = ({ show, onHide }) => {\r\n\r\n  return (     \r\n        <Modal show={show} onHide={onHide} centered>\r\n        <Modal.Header closeButton={false}>\r\n        {/* <Modal.Header closeButton> */}\r\n            <Modal.Title>Informații despre Cookies</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <div style={{ display: 'flex', alignItems: 'flex-start', marginTop: 0 }}>\r\n            <div>\r\n                <h6>Nouă ne pasă ca datele tale personale să rămână confidențiale</h6>\r\n                <p>\r\n                    Pe acest site folosim un singur cookie funcțional necesar autentificării. \r\n                    Autentificarea se realizează prin intermediul formularului de login și implică consimțământul pentru utilizarea acestui cookie necesar.\r\n                </p>\r\n            </div>\r\n            </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n            <Button variant=\"secondary\" onClick={onHide}>\r\n                Am ințeles\r\n            </Button>\r\n            {/* <Button variant=\"primary\" onClick={handleSave}>\r\n                Save Changes\r\n            </Button> */}\r\n        </Modal.Footer>\r\n        </Modal>\r\n  );\r\n};\r\n\r\nexport default CookieGDRP;\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n// import 'bootstrap-icons/font/bootstrap-icons.css'\r\n\r\nimport Routes from './Routes';\r\nimport Navigation from './layout/Navigation/Navigation';\r\nimport Footer from './layout/Footer/Footer';\r\nimport AuthService from '../services/auth.services';\r\nimport Alert from './shared/Alert';\r\n\r\nimport CookieGDRP from './pages/CookiesSettings/CookieInfoGDRP';\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = { \r\n      loggedUser: undefined,\r\n      toast:{\r\n        showAlert: false,\r\n        alertText: [],\r\n        displayTime: 0,\r\n        color: 'warning'\r\n      },\r\n      // showGDRP: true,\r\n      // showCookiesSettings: true,\r\n      showGDRP: true,\r\n    };\r\n    this.authService = new AuthService();\r\n  }\r\n\r\n  storeUser = (loggedUser) => {\r\n    this.setState({ loggedUser });\r\n  };\r\n\r\n  fetchUser = () => {\r\n    this.authService\r\n      .isLoggedIn()\r\n      .then((theLoggedUser) => this.storeUser(theLoggedUser.data))\r\n      .catch(() => this.storeUser(undefined));\r\n  };\r\n\r\n  // Handle Cookies\r\n  showCookiesSettings = () => {\r\n    this.setState({ showCookiesSettings: true });\r\n  }  \r\n  hideCookiesSettings = () => {\r\n    this.setState({ showCookiesSettings: false });\r\n  }\r\n  hideGDRP = () => {\r\n    this.setState({ showGDRP: false });\r\n  }\r\n  \r\n\r\n\r\n  handleAlert = (alertText, displayTime = 3000, color='warning', showAlert = true) => {\r\n    // console.log(alertText, displayTime, color, showAlert)\r\n    this.setState({toast: {...this.state.toast, alertText, displayTime, color, showAlert }});\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchUser();\r\n    // window.scrollTo(0, 0)\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <>\r\n        <Navigation\r\n          handleAlert={this.handleAlert}\r\n          storeUser={this.storeUser}\r\n          loggedUser={this.state.loggedUser}\r\n          redirectToCourses={this.redirectToCourses}\r\n        />\r\n\r\n        <Routes\r\n          handleAlert={this.handleAlert}\r\n          storeUser={this.storeUser}\r\n          loggedUser={this.state.loggedUser}\r\n        />\r\n\r\n        <Footer />\r\n\r\n        <Alert\r\n          handleAlert={this.handleAlert}\r\n          show={this.state.toast.showAlert}\r\n          text={this.state.toast.alertText}\r\n          displayTime={this.state.toast.displayTime}\r\n          color={this.state.toast.color}\r\n        />\r\n\r\n        <CookieGDRP show={this.state.showGDRP} onHide={this.hideGDRP} />\r\n         \r\n\r\n\r\n        {/* <CookieConsentComponent show={this.state.showGDRP} showCookiesSettings={this.showCookiesSettings}/>\r\n        \r\n        <CookieSettingsModal show={this.state.showCookiesSettings} onHide={this.hideCookiesSettings} /> */}\r\n         \r\n        <CookieGDRP show={this.state.showGDRP} onHide={this.hideGDRP} />\r\n\r\n       \r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <React.StrictMode>\r\n      <App/>\r\n    </React.StrictMode>\r\n  </Router>\r\n,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LecturePage_container__2kE6C\",\"block\":\"LecturePage_block__3tXkp\",\"smallPicContainer\":\"LecturePage_smallPicContainer__3yFsa\",\"smallPic\":\"LecturePage_smallPic__KDQL9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionContainer\":\"SectionPage_sectionContainer__Asgc-\",\"sectionTitleContainer\":\"SectionPage_sectionTitleContainer__2O1J1\",\"block\":\"SectionPage_block__KKip9\",\"smallPicContainer\":\"SectionPage_smallPicContainer__2Ojqs\",\"smallPic\":\"SectionPage_smallPic__3Zg55\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sectionContainer\":\"CurriculumSectionPage_sectionContainer__37Gcl\",\"sectionTitleContainer\":\"CurriculumSectionPage_sectionTitleContainer__9Cqdf\",\"block\":\"CurriculumSectionPage_block__2N7k5\",\"smallPicContainer\":\"CurriculumSectionPage_smallPicContainer__1pGxe\",\"smallPic\":\"CurriculumSectionPage_smallPic__2ypyV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CurriculumLecturePage_container__1djGI\",\"block\":\"CurriculumLecturePage_block__33LST\",\"smallPicContainer\":\"CurriculumLecturePage_smallPicContainer__2WDst\",\"smallPic\":\"CurriculumLecturePage_smallPic__3ZAMs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2_p4V\",\"modal\":\"Modal_modal__2BmUS\",\"slide-down\":\"Modal_slide-down__2Gqm8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"LectureModal_backdrop__egXAL\",\"modal\":\"LectureModal_modal__2wSdS\",\"header\":\"LectureModal_header__PLLWS\",\"content\":\"LectureModal_content__3UymA\",\"actions\":\"LectureModal_actions__Z1f0J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"CurriculumLectureModal_backdrop__j6h8c\",\"modal\":\"CurriculumLectureModal_modal__2Dx0I\",\"header\":\"CurriculumLectureModal_header__UhTga\",\"content\":\"CurriculumLectureModal_content__35AKT\",\"actions\":\"CurriculumLectureModal_actions__1yIAO\"};"],"sourceRoot":""}