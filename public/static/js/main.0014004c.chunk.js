(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,r){},113:function(e,t,r){},141:function(e,t,r){},142:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){},147:function(e,t,r){},148:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(26),o=r.n(s),a=r(2),i=r(7),l=r(9),u=r(12),d=r(11),h=(r(111),r(112),r(10)),j=r(151),b=r(18),m=(r(113),r(0)),p=function(){return Object(m.jsxs)(j.a,{className:"bgImg",style:{marginLeft:"0px",marginRight:"0px",width:"100vw"},children:[Object(m.jsx)("h1",{children:"Welcome to MateCuMatei"}),Object(m.jsx)("p",{children:"Idei, nu formule."}),Object(m.jsx)(b.b,{to:"/courses"})]})},g=r(104),O=r(29),x=r.n(O),v=function e(){var t=this;Object(i.a)(this,e),this.getAllCourses=function(){return t.app.get("/")},this.getCourse=function(e,r){return t.app.get("/".concat(e,"/").concat(r))},this.saveCourse=function(e){return t.app.post("/new",e)},this.editCourse=function(e){return t.app.put("/edit/".concat(e._id),e)},this.app=x.a.create({baseURL:"http://matecumatei-server.herokuapp.com/api//courses",withCredentials:!0})},f=(r(141),function(e){var t=e.size,r={width:t,height:t};return Object(m.jsx)("div",{className:"spinner",style:r})}),w=r(152),L=(r(142),r(103)),C=function(e){var t=e.name,r=e.description,n=e.image,c=e._id,s=(e.reviews,e.loggedUser);return Object(m.jsx)(L.a,{sm:6,lg:4,children:Object(m.jsxs)("article",{className:"courseCard",children:[Object(m.jsx)("img",{src:n,alt:t}),Object(m.jsx)("h4",{children:t}),Object(m.jsxs)("p",{children:[r.slice(0,70),"..."]}),Object(m.jsx)(b.b,{to:"/courses/details/".concat(c),children:Object(m.jsx)(g.a,{className:"btnBlock",variant:"secondary",children:"Detalii"})}),s&&"admin"===s.role?Object(m.jsx)(b.b,{to:"/courses/edit/".concat(c,"/false"),children:Object(m.jsx)(g.a,{className:"btnBlock",variant:"warning",children:"Edit"})}):null]})})},S=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).loadCourses=function(){e.coursesService.getAllCourses().then((function(t){return e.setState({courses:t.data})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){e.loadCourses()},e.state={courses:void 0},e.coursesService=new v,e}return Object(l.a)(r,[{key:"render",value:function(){var e,t=this,r=this.state.courses?Object(m.jsx)(w.a,{children:null===(e=this.state.courses)||void 0===e?void 0:e.map((function(e){return Object(m.jsx)(C,Object(a.a)(Object(a.a)({},e),{},{loggedUser:t.props.loggedUser}),e._id)}))}):Object(m.jsx)(f,{size:200});return Object(m.jsx)(m.Fragment,{children:r})}}]),r}(n.Component),y=function(e){var t=e.loggedUser;return Object(m.jsxs)(j.a,{children:[Object(m.jsx)(S,{loggedUser:t}),"admin"===(null===t||void 0===t?void 0:t.role)||"superUser"===(null===t||void 0===t?void 0:t.role)?Object(m.jsx)(b.b,{to:"/courses/new",children:Object(m.jsx)(g.a,{className:"btnBlock",children:"New Course"})}):null,Object(m.jsx)("p",{style:{marginBottom:"3rem"}})]})},I=r(41),k=function e(){var t=this;Object(i.a)(this,e),this.getSection=function(e){return t.app.get("/".concat(e))},this.saveSection=function(e){return t.app.post("/new",e)},this.editSection=function(e){return t.app.put("/edit/".concat(e._id),e)},this.app=x.a.create({baseURL:"http://matecumatei-server.herokuapp.com/api//sections",withCredentials:!0})},N=r(90),U=r.n(N),F=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:U.a.backdrop}),Object(m.jsxs)("div",{className:U.a.modal,children:[Object(m.jsx)("iframe",{src:e.videoUrl,width:"100%",height:"360",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:!0,title:"01 Structura cursului 6 FEB"}),Object(m.jsx)("button",{className:"btn btn-light",onClick:e.toggleShowLecture,style:{width:"100%"},children:e.showLecture?"Ascunde lectia":"Arata lectia"})]})]})},_=r(6),T=r(21),A=r(8),P=r(154),V=r(158),G=function e(){var t=this;Object(i.a)(this,e),this.getLecture=function(e){return t.app.get("/".concat(e))},this.saveLecture=function(e){return t.app.post("/new",e)},this.editLecture=function(e){return t.app.put("/edit/".concat(e._id),e)},this.deleteLecture=function(e){return t.app.post("/delete/".concat(e),e)},this.app=x.a.create({baseURL:"http://matecumatei-server.herokuapp.com/api//lectures",withCredentials:!0})},D=r(83),M=r.n(D),E=function(e){return Object(m.jsx)("div",{className:M.a.backdrop})},z=function(e){return Object(m.jsx)("div",{className:M.a.modal,children:Object(m.jsx)("div",{className:M.a.content,children:e.children})})},B=document.getElementById("overlays"),R=function(e){return Object(m.jsxs)(n.Fragment,{children:[o.a.createPortal(Object(m.jsx)(E,{}),B),o.a.createPortal(Object(m.jsx)(z,{children:e.children}),B)]})},H=function e(){var t=this;Object(i.a)(this,e),this.uploadImage=function(e){return t.app.post("/image",e)},this.app=x.a.create({baseURL:"http://matecumatei-server.herokuapp.com/api//upload",withCredentials:!0})},K=function(e){var t,r,c,s=Object(n.useState)({sectionId:e.sectionId,name:"",sectionNumber:e.sectionNumber,lectureNumber:"",typeOfLecture:"video",description:"",videoUrl:"",imageUrl:"",isUploading:!1,authors:[null===(t=e.loggedUser)||void 0===t?void 0:t._id],freeAccess:!1,courseId:e.courseId,temporaryTag:"",tags:[],addTagEnabled:!0}),o=Object(A.a)(s,2),i=o[0],l=o[1],u=new G,d=new H;Object(n.useEffect)((function(){var t=new G,r=!0;t.getLecture(e.currentLectureId).then((function(t){var n,c,s="admin"===(null===(n=e.loggedUser)||void 0===n?void 0:n.role)?Object(T.a)(t.data.authors):[].concat(Object(T.a)(t.data.authors),[null===(c=e.loggedUser)||void 0===c?void 0:c._id]);r&&(l((function(e){return Object(a.a)(Object(a.a)(Object(a.a)({},e),t.data),{},{authors:s})})),r=!1)})).catch((function(e){return console.log(e)}))}),[e.sectionId,null===(r=e.loggedUser)||void 0===r?void 0:r.role,null===(c=e.loggedUser)||void 0===c?void 0:c._id,e.currentLectureId]);var h=function(e){var t=e.target,r=t.name,n=t.value;l((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))};return Object(m.jsx)(R,{children:Object(m.jsx)(j.a,{children:Object(m.jsxs)(P.a,{onSubmit:function(t){t.preventDefault(),u.editLecture(i).then((function(t){var r;l({name:"",sectionNumber:"",lectureNumber:"",typeOfLecture:"video",description:"",videoUrl:"",imageUrl:"",isUploading:!1,authors:[null===(r=e.loggedUser)||void 0===r?void 0:r._id],freeAccess:!1,sectionId:e.sectionId,courseId:e.courseId,temporaryTag:"",tags:[],addTagEnabled:!0}),e.hideEditForm(),e.renderList()})).catch((function(e){return console.log(e)}))},children:[Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Title"}),Object(m.jsx)(P.a.Control,{type:"text",value:i.name,onChange:h,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"lectureNumber",children:[Object(m.jsx)(P.a.Label,{children:"Lecture Number"}),Object(m.jsx)(P.a.Control,{type:"number",value:i.lectureNumber,onChange:h,name:"lectureNumber"})]}),Object(m.jsxs)(P.a.Group,{controlId:"desc",children:[Object(m.jsx)(P.a.Label,{children:"Description"}),Object(m.jsx)(P.a.Control,{type:"text",value:i.description,onChange:h,name:"description"})]}),Object(m.jsxs)(P.a.Group,{controlId:"typeOfLecture",children:[Object(m.jsx)(P.a.Label,{children:"Type of Lecture"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:i.typeOfLecture,onChange:h,name:"typeOfLecture",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the lecture type --"}),Object(m.jsx)("option",{value:"video",children:"Video"}),Object(m.jsx)("option",{value:"written",children:"Written document - Pdf"}),Object(m.jsx)("option",{value:"other",children:"Other format"})]})]}),Object(m.jsxs)(w.a,{style:{alignItems:"bottom"},children:[Object(m.jsx)(L.a,{xs:6,md:3,children:Object(m.jsxs)(P.a.Group,{controlId:"temporaryTag",children:[Object(m.jsx)(P.a.Label,{children:"Tags"}),Object(m.jsx)(P.a.Control,{type:"text",value:i.temporaryTag,onChange:h,name:"temporaryTag"})]})}),Object(m.jsx)(L.a,{xs:6,md:3,children:Object(m.jsx)(g.a,{style:{marginTop:"2em",width:"100%"},variant:"dark",onClick:function(e){if(e.preventDefault(),""!==i.temporaryTag.trim()){var t=[].concat(Object(T.a)(i.tags),[i.temporaryTag]);l((function(e){return Object(a.a)(Object(a.a)({},e),{},{tags:t,temporaryTag:""})}))}},disabled:!i.addTagEnabled,children:"Add tag"})}),Object(m.jsx)(L.a,{xs:12,md:6,style:{marginTop:"1.8em"},children:Object(m.jsx)(V.a,{horizontal:!0,children:i.tags.map((function(e,t){return Object(m.jsx)(V.a.Item,{children:e},t)}))})})]}),Object(m.jsxs)(P.a.Group,{controlId:"videoUrl",children:[Object(m.jsx)(P.a.Label,{children:"Video Url"}),Object(m.jsx)(P.a.Control,{type:"text",value:i.videoUrl,onChange:h,name:"videoUrl"})]}),Object(m.jsxs)(P.a.Group,{controlId:"imageUrl",children:[Object(m.jsx)(P.a.Label,{children:"Imagen (URL)"}),Object(m.jsx)(P.a.Control,{type:"file",onChange:function(e){return function(e){l((function(e){return Object(a.a)(Object(a.a)({},e),{},{isUploading:!0})}));var t=new FormData;t.append("imageData",e.target.files[0]),d.uploadImage(t).then((function(e){console.log(e.data.cloudinary_url),l((function(t){return Object(a.a)(Object(a.a)({},t),{},{isUploading:!1,imageUrl:e.data.cloudinary_url})}))})).catch((function(e){return console.log(e)}))}(e)}})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"10%"},variant:"dark",onClick:e.hideEditForm,children:"Cancel"}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"20%"},variant:"dark",type:"submit",disabled:i.isUploading,children:i.isUploading?"Uploading":"Edit lecture"}),i.isUploading&&Object(m.jsx)("div",{style:{float:"right"},children:Object(m.jsx)(f,{size:30})})]})})})},W=r(20),Y=r.n(W),q=r.p+"static/media/play-svgrepo-com.c6fd441d.svg",J=r.p+"static/media/add-to-svgrepo-com.327a7116.svg",Z=r.p+"static/media/delete-svgrepo-com.301b654a.svg",X=r.p+"static/media/edit-svgrepo-com.c2a53e83.svg",Q=r.p+"static/media/duotone-eye-open-svgrepo-com.a7009b7d.svg",$=r.p+"static/media/duotone-eye-closed-svgrepo-com.7d44abc9.svg",ee=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).toggleShowLecture=function(){e.setState({showVideoInModal:!e.showVideoInModal})},e.toggleLectureAccess=function(){var t={_id:e.state.lecture._id,freeAccess:!e.state.freeAccess};e.lecturesService.editLecture(t).then((function(e){return console.log("toggled")})).catch((function(e){return console.log(e)}));var r=Object(a.a)(Object(a.a)({},e.state.lecture),{},{freeAccess:!e.state.freeAccess});e.setState({lecture:r,freeAccess:!e.state.freeAccess}),e.props.refreshSectionsList()},e.toggleEditLectureForm=function(t){e.setState({editLectureFormIsShown:!e.state.editLectureFormIsShown})},e.loadLectureCard=function(){var t=e.props.lecture;e.lecturesService.getLecture(t._id).then((function(t){return e.setState({lecture:t.data,freeAccess:t.data.freeAccess})})).catch((function(e){return console.log(e)}))},e.deleteLecture=function(){e.lecturesService.deleteLecture(e.state.lecture._id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},e.componentDidUpdate=function(t,r){return r.freeAccess!==e.state.freeAccess&&e.loadLectureCard()},e.state={showVideoInModal:!1,freeAccess:!1,lecture:void 0,editLectureFormIsShown:!1},e.lecturesService=new G,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.loadLectureCard()}},{key:"render",value:function(){var e=this.props,t=e.lecture,r=e.freeCourse,n=e.lecturesCount,c=e.loggedUser,s=e.hideForm,o=e.currentVideo,a=e.setCurrentVideo,i=e.setCurrentLecture,l="admin"===(null===c||void 0===c?void 0:c.role)||t.freeAccess||void 0!==c&&r||!c&&r&&t.lectureNumber<n/3&&t.lectureNumber%2===1?"flex":"none",u=o===t.videoUrl?"#ebe8e8":"#fff";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(j.a,{className:Y.a.container,onClick:function(){a(t.videoUrl),i(t.sectionNumber,t.lectureNumber)},style:{background:u,display:l},id:"lecture".concat(t.lectureNumber),children:[Object(m.jsx)("div",{className:Y.a.block,style:{width:"70%"},children:Object(m.jsxs)("h5",{style:{marginBottom:"0px",fontSize:"1em"},children:[t.sectionNumber,".",t.lectureNumber," - ",t.name]})}),c?null:Object(m.jsx)("div",{className:Y.a.block,children:Object(m.jsx)("div",{className:Y.a.smallPicContainer,onClick:this.toggleShowLecture,children:Object(m.jsx)("img",{className:Y.a.smallPic,src:q,alt:"play lecture"})})}),"admin"!==(null===c||void 0===c?void 0:c.role)?null:Object(m.jsx)("div",{className:Y.a.block,onClick:this.toggleLectureAccess,children:Object(m.jsx)("div",{className:Y.a.smallPicContainer,children:Object(m.jsx)("img",{className:Y.a.smallPic,src:this.state.freeAccess?Q:$,alt:"play lecture"})})}),!this.showVideoInModal&&"admin"===(null===c||void 0===c?void 0:c.role)&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:Y.a.block,children:Object(m.jsx)("div",{className:Y.a.smallPicContainer,onClick:this.toggleEditLectureForm,children:Object(m.jsx)("img",{className:Y.a.smallPic,src:X,alt:"edit lecture"})})}),Object(m.jsx)("div",{className:Y.a.block,children:Object(m.jsx)("div",{className:Y.a.smallPicContainer,onClick:s,children:Object(m.jsx)("img",{className:Y.a.smallPic,src:J,alt:"add lecture"})})}),Object(m.jsx)("div",{className:Y.a.block,children:Object(m.jsx)("div",{className:Y.a.smallPicContainer,onClick:this.deleteLecture,children:Object(m.jsx)("img",{className:Y.a.smallPic,src:Z,alt:"delete lecture"})})})]})]}),this.showVideoInModal&&Object(m.jsx)(F,{videoUrl:t.videoUrl,toggleShowLecture:this.showVideoInModal,showLecture:this.showVideoInModal}),this.state.editLectureFormIsShown&&Object(m.jsx)(K,{courseId:this.state.lecture.courseId,sectionId:this.state.lecture.sectionId,sectionNumber:this.state.lecture.sectionNumber,hideEditForm:this.toggleEditLectureForm,currentLectureId:this.state.lecture._id,renderList:this.props.renderList,toggleShowLectures:this.toggleShowLectures,loggedUser:this.props.loggedUser})]})}}]),r}(n.Component),te=function(e){var t=e.lectures,r=e.freeCourse,n=e.lecturesCount,c=e.loggedUser,s=e.hideForm,o=e.renderList,a=e.currentVideo,i=e.setCurrentVideo,l=e.setCurrentLecture,u=e.refreshSectionsList;return Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsx)(ee,{lecture:e,loggedUser:c,hideForm:s,renderList:o,currentVideo:a,setCurrentVideo:i,setCurrentLecture:l,refreshSectionsList:u,freeCourse:r,lecturesCount:n},e._id)}))})},re=r(28),ne=r.n(re),ce=function(e){var t,r=Object(n.useState)({courseId:e.courseId,name:"",sectionNumber:"",description:"",authors:[null===(t=e.loggedUser)||void 0===t?void 0:t._id]}),c=Object(A.a)(r,2),s=c[0],o=c[1],i=new k,l=function(e){var t=e.target,r=t.name,n=t.value;o((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))};return Object(m.jsx)(R,{children:Object(m.jsx)(j.a,{children:Object(m.jsxs)(P.a,{onSubmit:function(t){t.preventDefault(),i.saveSection(s).then((function(t){o({name:"",description:"",sectionNumber:""}),e.hideForm(),e.toggleShowClasses(),e.renderList()})).catch((function(e){return console.log(e)}))},children:[Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Title"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.name,onChange:l,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"desc",children:[Object(m.jsx)(P.a.Label,{children:"Description"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.description,onChange:l,name:"description"})]}),Object(m.jsxs)(P.a.Group,{controlId:"sectionNumber",children:[Object(m.jsx)(P.a.Label,{children:"Section Number"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.sectionNumber,onChange:l,name:"sectionNumber"})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"10%"},variant:"dark",onClick:e.hideForm,children:"Cancel"}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"20%"},variant:"dark",type:"submit",children:"Create section"})]})})})},se=function(e){var t,r,c,s=Object(n.useState)({courseId:e.courseId,name:"",sectionNumber:0,description:"",authors:[null===(t=e.loggedUser)||void 0===t?void 0:t._id],temporaryTag:"",tags:[],addTagEnabled:!0}),o=Object(A.a)(s,2),i=o[0],l=o[1],u=new k;Object(n.useEffect)((function(){var t=new k,r=!0;t.getSection(e.sectionId).then((function(t){var n,c,s="admin"===(null===(n=e.loggedUser)||void 0===n?void 0:n.role)?Object(T.a)(t.data.authors):[].concat(Object(T.a)(t.data.authors),[null===(c=e.loggedUser)||void 0===c?void 0:c._id]);r&&(l((function(e){return Object(a.a)(Object(a.a)(Object(a.a)({},e),t.data),{},{authors:s})})),r=!1)})).catch((function(e){return console.log(e)}))}),[e.sectionId,null===(r=e.loggedUser)||void 0===r?void 0:r.role,null===(c=e.loggedUser)||void 0===c?void 0:c._id]);var d=function(e){var t=e.target,r=t.name,n=t.value;l((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))};return Object(m.jsx)(R,{children:Object(m.jsx)(j.a,{children:Object(m.jsxs)(P.a,{onSubmit:function(t){t.preventDefault(),u.editSection(i).then((function(t){var r;l({name:"",description:"",sectionNumber:0,authors:[null===(r=e.loggedUser)||void 0===r?void 0:r._id],temporaryTag:"",tags:[],addTagEnabled:!0}),e.hideForm(),e.renderList()})).catch((function(e){return console.log(e)}))},children:[Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Title"}),Object(m.jsx)(P.a.Control,{type:"text",value:i.name,onChange:d,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"desc",children:[Object(m.jsx)(P.a.Label,{children:"Description"}),Object(m.jsx)(P.a.Control,{type:"text",value:i.description,onChange:d,name:"description"})]}),Object(m.jsxs)(P.a.Group,{controlId:"sectionNumber",children:[Object(m.jsx)(P.a.Label,{children:"Section Number"}),Object(m.jsx)(P.a.Control,{type:"number",value:i.sectionNumber,onChange:d,name:"sectionNumber"})]}),Object(m.jsxs)(w.a,{style:{alignItems:"bottom"},children:[Object(m.jsx)(L.a,{xs:6,md:3,children:Object(m.jsxs)(P.a.Group,{controlId:"temporaryTag",children:[Object(m.jsx)(P.a.Label,{children:"Tags"}),Object(m.jsx)(P.a.Control,{type:"text",value:i.temporaryTag,onChange:d,name:"temporaryTag"})]})}),Object(m.jsx)(L.a,{xs:6,md:3,children:Object(m.jsx)(g.a,{style:{marginTop:"2em",width:"100%"},variant:"dark",onClick:function(e){if(e.preventDefault(),""!==i.temporaryTag.trim()){var t=[].concat(Object(T.a)(i.tags),[i.temporaryTag]);l((function(e){return Object(a.a)(Object(a.a)({},e),{},{tags:t,temporaryTag:""})}))}},disabled:!i.addTagEnabled,children:"Add tag"})}),Object(m.jsx)(L.a,{xs:12,md:6,style:{marginTop:"1.8em"},children:Object(m.jsx)(V.a,{horizontal:!0,children:i.tags.map((function(e,t){return Object(m.jsx)(V.a.Item,{children:e},t)}))})})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"10%"},variant:"dark",onClick:e.hideForm,children:"Cancel"}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"20%"},variant:"dark",type:"submit",children:"Edit section"})]})})})},oe=function(e){var t,r=Object(n.useState)({sectionId:e.sectionId,name:"",sectionNumber:e.sectionNumber,lectureNumber:"",typeOfLecture:"video",description:"",videoUrl:"",imageUrl:"",isUploading:!1,authors:[null===(t=e.loggedUser)||void 0===t?void 0:t._id],freeAccess:!1,courseId:e.courseId,temporaryTag:"",tags:[],addTagEnabled:!0}),c=Object(A.a)(r,2),s=c[0],o=c[1],i=new G,l=new H,u=function(e){var t=e.target,r=t.name,n=t.value;o((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))};return Object(m.jsx)(R,{children:Object(m.jsx)(j.a,{children:Object(m.jsxs)(P.a,{onSubmit:function(t){t.preventDefault(),i.saveLecture(s).then((function(t){var r;o({name:"",sectionNumber:"",lectureNumber:"",typeOfLecture:"video",description:"",videoUrl:"",imageUrl:"",isUploading:!1,authors:[null===(r=e.loggedUser)||void 0===r?void 0:r._id],freeAccess:!1,sectionId:e.sectionId,courseId:e.courseId,temporaryTag:"",tags:[],addTagEnabled:!0}),e.hideForm(),e.toggleShowClasses(),e.renderList()})).catch((function(e){return console.log(e)}))},children:[Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Title"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.name,onChange:u,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"lectureNumber",children:[Object(m.jsx)(P.a.Label,{children:"Lecture Number"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.lectureNumber,onChange:u,name:"lectureNumber"})]}),Object(m.jsxs)(P.a.Group,{controlId:"desc",children:[Object(m.jsx)(P.a.Label,{children:"Description"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.description,onChange:u,name:"description"})]}),Object(m.jsxs)(P.a.Group,{controlId:"typeOfLecture",children:[Object(m.jsx)(P.a.Label,{children:"Type of Lecture"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:s.typeOfLecture,onChange:u,name:"typeOfLecture",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the lecture type --"}),Object(m.jsx)("option",{value:"video",children:"Video"}),Object(m.jsx)("option",{value:"written",children:"Written document - Pdf"}),Object(m.jsx)("option",{value:"other",children:"Other format"})]})]}),Object(m.jsxs)(w.a,{style:{alignItems:"bottom"},children:[Object(m.jsx)(L.a,{xs:6,md:3,children:Object(m.jsxs)(P.a.Group,{controlId:"temporaryTag",children:[Object(m.jsx)(P.a.Label,{children:"Tags"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.temporaryTag,onChange:u,name:"temporaryTag"})]})}),Object(m.jsx)(L.a,{xs:6,md:3,children:Object(m.jsx)(g.a,{style:{marginTop:"2em",width:"100%"},variant:"dark",onClick:function(e){if(e.preventDefault(),""!==s.temporaryTag.trim()){var t=[].concat(Object(T.a)(s.tags),[s.temporaryTag]);o((function(e){return Object(a.a)(Object(a.a)({},e),{},{tags:t,temporaryTag:""})}))}},disabled:!s.addTagEnabled,children:"Add tag"})}),Object(m.jsx)(L.a,{xs:12,md:6,style:{marginTop:"1.8em"},children:Object(m.jsx)(V.a,{horizontal:!0,children:s.tags.map((function(e,t){return Object(m.jsx)(V.a.Item,{children:e},t)}))})})]}),Object(m.jsxs)(P.a.Group,{controlId:"videoUrl",children:[Object(m.jsx)(P.a.Label,{children:"Video Url"}),Object(m.jsx)(P.a.Control,{type:"text",value:s.videoUrl,onChange:u,name:"videoUrl"})]}),Object(m.jsxs)(P.a.Group,{controlId:"imageUrl",children:[Object(m.jsx)(P.a.Label,{children:"Imagen (URL)"}),Object(m.jsx)(P.a.Control,{type:"file",onChange:function(e){return function(e){o((function(e){return Object(a.a)(Object(a.a)({},e),{},{isUploading:!0})}));var t=new FormData;t.append("imageData",e.target.files[0]),l.uploadImage(t).then((function(e){console.log(e.data.cloudinary_url),o((function(t){return Object(a.a)(Object(a.a)({},t),{},{isUploading:!1,imageUrl:e.data.cloudinary_url})}))})).catch((function(e){return console.log(e)}))}(e)}})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"10%"},variant:"dark",onClick:e.hideForm,children:"Cancel"}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"30%",marginLeft:"20%"},variant:"dark",type:"submit",disabled:s.isUploading,children:s.isUploading?"Uploading":"Create lecture"}),s.isUploading&&Object(m.jsx)("div",{style:{float:"right"},children:Object(m.jsx)(f,{size:30})})]})})})},ae=r.p+"static/media/down-arrow-svgrepo-com.1edfab86.svg",ie=r.p+"static/media/up-arrow-svgrepo-com.4c6abf93.svg",le=function(e){var t=e.showLectures,r=e.toggleShowLectures;return Object(m.jsx)("div",{className:ne.a.block,children:Object(m.jsx)("div",{className:ne.a.smallPicContainer,onClick:r,children:Object(m.jsx)("img",{className:ne.a.smallPic,src:t?ie:ae,alt:"DropDownArrow"})})})},ue=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).loadSectionsList=function(){var t=e.props,r=t.sectionId,n=t.loggedUser,c=void 0===n||void 0!==n&&e.props.freeCourse;e.sectionService.getSection(r).then((function(t){return e.setState({section:t.data,showLectures:c})})).catch((function(e){return console.log(e)}))},e.toggleShowLectures=function(){!e.state.showLectures&&e.props.setCurrentSection(e.state.section.sectionNumber),e.setState({showLectures:!e.state.showLectures})},e.toggleNewSectionForm=function(){e.setState({newSectionFormIsShown:!e.state.newSectionFormIsShown})},e.toggleEditSectionForm=function(){e.setState({editSectionFormIsShown:!e.state.editSectionFormIsShown})},e.toggleNewLectureForm=function(){e.setState({newLectureFormIsShown:!e.state.newLectureFormIsShown})},e.componentDidUpdate=function(t,r){return r.newSectionFormIsShown!==e.state.newSectionFormIsShown&&e.loadSectionsList()},e.state={section:void 0,showLectures:!1,newSectionFormIsShown:!1,editSectionFormIsShown:!1,newLectureFormIsShown:!1},e.sectionService=new k,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.loadSectionsList()}},{key:"render",value:function(){var e,t,r,n,c;return this.state.section?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(j.a,{className:ne.a.sectionContainer,id:"section".concat(this.state.section.sectionNumber),children:[Object(m.jsxs)("div",{className:ne.a.sectionTitleContainer,children:[Object(m.jsx)("div",{className:ne.a.block,style:{width:"70%"},children:Object(m.jsxs)("h5",{style:{marginBottom:"0px"},children:[this.state.section.sectionNumber," - ",this.state.section.name]})}),Object(m.jsx)(le,{toggleShowLectures:this.toggleShowLectures,showLectures:this.state.showLectures})]}),this.state.showLectures&&Object(m.jsx)(te,{sectionId:this.state.section._id,lectures:this.state.section.lectures,loggedUser:this.props.loggedUser,hideForm:this.toggleNewLectureForm,renderList:this.props.renderList,currentVideo:this.props.currentVideo,setCurrentVideo:this.props.setCurrentVideo,setCurrentLecture:this.props.setCurrentLecture,refreshSectionsList:this.props.refreshSectionsList,freeCourse:this.props.freeCourse,lecturesCount:this.props.lecturesCount}),this.state.showLectures&&"admin"===(null===(e=this.props.loggedUser)||void 0===e?void 0:e.role)&&0===this.state.section.lectures.length&&Object(m.jsx)("div",{className:ne.a.block,children:Object(m.jsx)("button",{className:"btn btn-dark",onClick:this.toggleNewLectureForm,children:"Adauga Lectie"})}),this.state.showLectures&&"admin"===(null===(t=this.props.loggedUser)||void 0===t?void 0:t.role)&&Object(m.jsx)("div",{className:ne.a.block,children:Object(m.jsx)("button",{className:"btn btn-dark",onClick:this.toggleNewSectionForm,children:"Adauga Sectiune"})}),this.state.showLectures&&"admin"===(null===(r=this.props.loggedUser)||void 0===r?void 0:r.role)&&Object(m.jsx)("div",{className:ne.a.block,children:Object(m.jsx)("button",{className:"btn btn-warning",onClick:this.toggleEditSectionForm,children:"Editeaza Sectiune"})})]}),this.state.newSectionFormIsShown&&Object(m.jsx)(ce,{courseId:this.props.courseId,hideForm:this.toggleNewSectionForm,renderList:this.props.renderList,toggleShowLectures:this.toggleShowLectures,loggedUser:this.props.loggedUser}),this.state.editSectionFormIsShown&&Object(m.jsx)(se,{courseId:this.props.courseId,hideForm:this.toggleEditSectionForm,renderList:this.props.renderList,toggleShowLectures:this.toggleShowLectures,loggedUser:this.props.loggedUser,sectionId:this.props.sectionId}),this.state.newLectureFormIsShown&&Object(m.jsx)(oe,{courseId:this.props.courseId,sectionId:null===(n=this.state.section)||void 0===n?void 0:n._id,sectionNumber:null===(c=this.state.section)||void 0===c?void 0:c.sectionNumber,hideForm:this.toggleNewLectureForm,renderList:this.props.renderList,toggleShowLectures:this.toggleShowLectures,loggedUser:this.props.loggedUser})]}):Object(m.jsx)(f,{size:60})}}]),r}(n.Component),de=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).refreshSectionsList=function(){e.setState({refreshSectionsList:!e.refreshSectionsList})},e.setCurrentLecture=function(t,r){var n;null===(n=Object(I.a)(e))||void 0===n||n.setState({currentSection:t,currentLecture:r})},e.setCurrentSection=function(t){var r;null===(r=Object(I.a)(e))||void 0===r||r.setState({currentSection:t})},e.scrollIntoViewCurrentLecture=function(){var t="lecture".concat(e.state.currentLecture),r=t?document.getElementById(t):null;r&&(null===r||void 0===r||r.scrollIntoView({behavior:"smooth",block:"center"}))},e.scrollIntoViewCurrentSection=function(){var t="section".concat(e.state.currentSection),r=t?document.getElementById(t):null;r&&(null===r||void 0===r||r.scrollIntoView({behavior:"smooth",block:"center"}))},e.state={currentSection:"1",currentLecture:"1",refreshSectionsList:!0},e}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(e,t){t.currentLecture!==this.state.currentLecture&&this.scrollIntoViewCurrentLecture(),t.currentSection!==this.state.currentSection&&t.currentLecture===this.state.currentLecture&&this.scrollIntoViewCurrentSection()}},{key:"render",value:function(){var e=this,t=this.props,r=t.courseId,n=t.freeCourse,c=t.lecturesCount,s=t.sections,o=t.loggedUser,a=t.renderList,i=t.currentVideo,l=t.setCurrentVideo;return Object(m.jsx)("div",{style:{height:"80vh",overflowY:"scroll"},children:s.map((function(t){return Object(m.jsx)(ue,{courseId:r,freeCourse:n,lecturesCount:c,sectionId:t,loggedUser:o,renderList:a,currentLecture:e.currentLecture,currentSection:e.currentSection,setCurrentLecture:e.setCurrentLecture,setCurrentSection:e.setCurrentSection,currentVideo:i,setCurrentVideo:l,refreshSectionsList:e.refreshSectionsList},t)}))})}}]),r}(n.Component),he=r(84),je=r(105),be=function e(){var t=this;Object(i.a)(this,e),this.getAllUsers=function(){return t.app.get("/")},this.getUser=function(e){return t.app.get("/".concat(e))},this.editUser=function(e,r){return t.app.put("/edit/".concat(e._id),{user:e,changePassword:r})},this.app=x.a.create({baseURL:"http://matecumatei-server.herokuapp.com/api//users",withCredentials:!0})},me=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).loadInstructor=function(){var t=e.props.instructorId;e.userService.getUser(t).then((function(t){return e.setState({author:t.data})}))},e.state={author:void 0},e.userService=new be,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.loadInstructor()}},{key:"render",value:function(){return this.state.author?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h2",{children:[this.state.author.name," ",this.state.author.surname]}),Object(m.jsx)("p",{children:"Despre mine:"}),this.state.author.description.map((function(e,t){return Object(m.jsx)("p",{children:e},t)}))]}):Object(m.jsx)(f,{size:60})}}]),r}(n.Component);var pe=function(e){var t=e.course;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h2",{children:"Prezentare generala:"}),Object(m.jsx)("h4",{children:"About this course:"}),Object(m.jsx)("hr",{}),Object(m.jsx)("h4",{children:"Numbers:"}),Object(m.jsxs)("ul",{children:[Object(m.jsxs)("li",{children:["Skill level: ",t.skillLevel]}),Object(m.jsxs)("li",{children:["Students: ",t.students.length]}),Object(m.jsxs)("li",{children:["Language: ",t.language]}),Object(m.jsxs)("li",{children:["Lectures: ",t.lecturesNumber]}),Object(m.jsxs)("li",{children:["Total video duration: ",t.totalTimeInSeconds]})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("h4",{children:"Description:"}),Object(m.jsx)("p",{children:t.description}),Object(m.jsx)("hr",{})]})},ge=r(57),Oe=r.n(ge),xe=r(91),ve=r.n(xe),fe=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:ve.a.backdrop}),Object(m.jsxs)("div",{className:ve.a.modal,children:[Object(m.jsx)("iframe",{src:e.videoUrl,width:"100%",height:"360",allow:"autoplay; fullscreen; picture-in-picture",title:"01 Structura cursului 6 FEB"}),Object(m.jsx)("button",{className:"btn btn-light",onClick:e.toggleShowLecture,style:{width:"100%"},children:e.showLecture?"Ascunde lectia":"Arata lectia"})]})]})},we=r(58),Le=r.n(we),Ce=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).toggleShowLecture=function(){e.setState({showVideoInModal:!e.state.showVideoInModal})},e.toggleLectureAccess=function(){var t={_id:e.state.lecture._id,freeAccess:!e.state.freeAccess};e.lecturesService.editLecture(t).then((function(e){return console.log("toggled")})).catch((function(e){return console.log(e)}));var r=Object(a.a)(Object(a.a)({},e.state.lecture),{},{freeAccess:!e.state.freeAccess});e.setState({lecture:r,freeAccess:!e.state.freeAccess}),e.props.refreshSectionsList()},e.loadLectureCard=function(){var t=e.props.lecture;e.lecturesService.getLecture(t._id).then((function(t){return e.setState({lecture:t.data,freeAccess:t.data.freeAccess})})).catch((function(e){return console.log(e)}))},e.componentDidUpdate=function(t,r){return r.freeAccess!==e.state.freeAccess&&e.loadLectureCard()},e.state={showVideoInModal:!1,freeAccess:!1,lecture:void 0},e.lecturesService=new G,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.loadLectureCard()}},{key:"render",value:function(){var e=this.props,t=e.lecture,r=e.loggedUser,n=e.currentVideo===t.videoUrl?"#ebe8e8":"#fff";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(j.a,{className:Le.a.container,onClick:function(){},style:{background:n},id:"clecture".concat(t.lectureNumber),children:[Object(m.jsx)("div",{className:Le.a.block,style:{width:"70%"},children:Object(m.jsxs)("h5",{style:{marginBottom:"0px",fontSize:"1em"},children:[t.sectionNumber,".",t.lectureNumber," - ",t.name]})}),r?null:Object(m.jsx)("div",{className:Le.a.block,children:Object(m.jsx)("div",{className:Le.a.smallPicContainer,onClick:this.state.freeAccess?this.toggleShowLecture:null,children:Object(m.jsx)("img",{className:Le.a.smallPic,src:this.state.freeAccess?Q:$,alt:"play lecture"})})})]}),this.state.showVideoInModal&&Object(m.jsx)(fe,{videoUrl:t.videoUrl,toggleShowLecture:this.toggleShowLecture,showLecture:this.state.showVideoInModal})]})}}]),r}(n.Component),Se=function(e){var t=e.lectures,r=e.loggedUser,n=e.hideForm,c=e.renderList,s=e.currentVideo,o=e.setCurrentVideo,a=e.setCurrentLecture,i=e.refreshSectionsList;return Object(m.jsx)(m.Fragment,{children:t.map((function(e){return Object(m.jsx)(Ce,{lecture:e,loggedUser:r,hideForm:n,renderList:c,currentVideo:s,setCurrentVideo:o,setCurrentLecture:a,refreshSectionsList:i},e._id)}))})},ye=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).loadSectionsList=function(){var t=e.props.sectionId;e.sectionService.getSection(t).then((function(t){return e.setState({section:t.data})})).catch((function(e){return console.log(e)}))},e.toggleShowLectures=function(){!e.state.showLectures&&e.props.setCurrentSection(e.state.section.sectionNumber),e.setState({showLectures:!e.state.showLectures})},e.toggleNewSectionForm=function(){e.setState({newSectionFormIsShown:!e.state.newSectionFormIsShown})},e.toggleNewLectureForm=function(){e.setState({newLectureFormIsShown:!e.state.newLectureFormIsShown})},e.componentDidUpdate=function(t,r){return r.newSectionFormIsShown!==e.state.newSectionFormIsShown&&e.loadSectionsList()},e.state={section:void 0,showLectures:!0,newSectionFormIsShown:!1,newLectureFormIsShown:!1},e.sectionService=new k,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.loadSectionsList()}},{key:"render",value:function(){var e,t,r,n;return this.state.section?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(j.a,{className:Oe.a.sectionContainer,id:"csection".concat(this.state.section.sectionNumber),children:[Object(m.jsxs)("div",{className:Oe.a.sectionTitleContainer,children:[Object(m.jsx)("div",{className:Oe.a.block,style:{width:"70%"},children:Object(m.jsxs)("h5",{style:{marginBottom:"0px"},children:[this.state.section.sectionNumber," - ",this.state.section.name,this.state.section.grade?" (Clasa a ".concat(this.state.section.grade,"-a)"):""]})}),Object(m.jsx)(le,{toggleShowLectures:this.toggleShowLectures,showLectures:this.state.showLectures})]}),this.state.showLectures&&Object(m.jsx)(Se,{sectionId:this.state.section._id,lectures:this.state.section.lectures,loggedUser:this.props.loggedUser,hideForm:this.toggleNewLectureForm,renderList:this.props.renderList,currentVideo:this.props.currentVideo,setCurrentVideo:this.props.setCurrentVideo,setCurrentLecture:this.props.setCurrentLecture,refreshSectionsList:this.props.refreshSectionsList}),this.state.showLectures&&"admin"===(null===(e=this.props.loggedUser)||void 0===e?void 0:e.role)&&0===this.state.section.lectures.length&&Object(m.jsx)("div",{className:Oe.a.block,children:Object(m.jsx)("button",{className:"btn btn-dark",onClick:this.toggleNewLectureForm,children:"Adauga Lectie"})}),this.state.showLectures&&"admin"===(null===(t=this.props.loggedUser)||void 0===t?void 0:t.role)&&Object(m.jsx)("div",{className:Oe.a.block,children:Object(m.jsx)("button",{className:"btn btn-dark",onClick:this.toggleNewSectionForm,children:"Adauga Sectiune"})})]}),this.state.newSectionFormIsShown&&Object(m.jsx)(ce,{courseId:this.props.courseId,hideForm:this.toggleNewSectionForm,renderList:this.props.renderList,toggleShowLectures:this.toggleShowLectures}),this.state.newLectureFormIsShown&&Object(m.jsx)(oe,{sectionId:null===(r=this.state.section)||void 0===r?void 0:r._id,sectionNumber:null===(n=this.state.section)||void 0===n?void 0:n.sectionNumber,hideForm:this.toggleNewLectureForm,renderList:this.props.renderList,toggleShowLectures:this.toggleShowLectures})]}):Object(m.jsx)(f,{size:60})}}]),r}(n.Component),Ie=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).refreshSectionsList=function(){e.setState({refreshSectionsList:!e.refreshSectionsList})},e.setCurrentLecture=function(t,r){var n;null===(n=Object(I.a)(e))||void 0===n||n.setState({currentSection:t,currentLecture:r})},e.setCurrentSection=function(t){var r;null===(r=Object(I.a)(e))||void 0===r||r.setState({currentSection:t})},e.scrollIntoViewCurrentLecture=function(){var t="clecture".concat(e.state.currentLecture),r=t?document.getElementById(t):null;r&&(null===r||void 0===r||r.scrollIntoView())},e.scrollIntoViewCurrentSection=function(){var t="csection".concat(e.state.currentSection),r=t?document.getElementById(t):null;r&&(null===r||void 0===r||r.scrollIntoView())},e.state={currentSection:"1",currentLecture:"1",refreshSectionsList:!0},e}return Object(l.a)(r,[{key:"componentDidUpdate",value:function(e,t){t.currentLecture!==this.state.currentLecture&&this.scrollIntoViewCurrentLecture(),t.currentSection!==this.state.currentSection&&t.currentLecture===this.state.currentLecture&&this.scrollIntoViewCurrentSection()}},{key:"render",value:function(){var e=this,t=this.props,r=t.courseId,n=t.sections,c=t.loggedUser,s=t.renderList,o=t.currentVideo,a=t.setCurrentVideo;return Object(m.jsx)("div",{style:{height:"40vh",overflowY:"scroll"},children:n.map((function(t){return Object(m.jsx)(ye,{courseId:r,sectionId:t,loggedUser:c,renderList:s,currentLecture:e.currentLecture,currentSection:e.currentSection,setCurrentLecture:e.setCurrentLecture,setCurrentSection:e.setCurrentSection,currentVideo:o,setCurrentVideo:a,refreshSectionsList:e.refreshSectionsList},t)}))})}}]),r}(n.Component);var ke=function(e){var t=e.course,r=e.loggedUser,n=e.renderList,c=e.setCurrentVideo;return Object(m.jsxs)(je.a,{defaultActiveKey:r?"overview":"curriculum",id:"uncontrolled-tab-example",className:"mb-3",children:[r&&t.freeAccessForFirstThirdOfAllLectures?null:Object(m.jsx)(he.a,{eventKey:"curriculum",title:"Plan de curs",children:Object(m.jsx)(Ie,{courseId:t._id,sections:null===t||void 0===t?void 0:t.sections,loggedUser:r,renderList:n,setCurrentVideo:c})}),Object(m.jsx)(he.a,{eventKey:"overview",title:"Prezentare generala",children:Object(m.jsx)(pe,{course:t})}),Object(m.jsx)(he.a,{eventKey:"instructor",title:"Instructor",children:Object(m.jsx)(me,{course:t,instructorId:t.authors[0]})})]})};var Ne=function(e){var t=e.course.name;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("p",{style:{background:"#212529",color:"white",textAlign:"center",fontSize:".7em",padding:".5em",width:"100%"},children:t})})},Ue=function(e){var t=e.videoUrl;return Object(m.jsx)(j.a,{fluid:!0,style:{padding:"0"},children:Object(m.jsx)(w.a,{className:"ratio ratio-16x9",style:{padding:"0",margin:"0"},children:Object(m.jsx)("iframe",{src:t,className:"col",allow:"autoplay; fullscreen; picture-in-picture",title:"01 Structura cursului 6 FEB"})})})},Fe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).setCurrentVideo=function(t){e.setState({currentVideo:t})},e.toggleShowSections=function(){e.setState({showSections:!e.state.showSections})},e.renderList=function(){e.loadDetailsPage()},e.toggleNewSectionForm=function(){e.setState({newSectionFormIsShown:!e.state.newSectionFormIsShown})},e.state={course:void 0,showSections:!1,currentSection:3,currentLecture:1,currentVideo:void 0,newSectionFormIsShown:!1},e.courseService=new v,e}return Object(l.a)(r,[{key:"loadDetailsPage",value:function(){var e=this,t=this.props.match.params.course_id;this.courseService.getCourse(t).then((function(t){return e.setState({course:t.data,currentVideo:t.data.currentVideo})})).catch((function(e){return console.log(e)}))}},{key:"setCurrentSectionAndLecture",value:function(e,t){null===this||void 0===this||this.setState({currentSection:e,currentLecture:t})}},{key:"componentDidMount",value:function(){this.loadDetailsPage()}},{key:"render",value:function(){var e,t,r,n,c,s,o,a,i;return this.state.course?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ne,{course:this.state.course}),Object(m.jsxs)(w.a,{className:"justify-content-around",children:[Object(m.jsxs)(L.a,{md:7,style:{marginBottom:"1em"},children:[Object(m.jsx)(Ue,{videoUrl:this.state.currentVideo,style:{width:"100%",margin:0,padding:0}}),Object(m.jsx)("hr",{}),Object(m.jsx)(ke,{course:this.state.course,loggedUser:this.props.loggedUser,renderList:this.renderList,setCurrentVideo:this.setCurrentVideo})]}),Object(m.jsx)(L.a,{md:4,children:this.state.course.sections&&0!==(null===(e=this.state.course)||void 0===e?void 0:e.sections.length)?Object(m.jsxs)(m.Fragment,{children:["admin"===(null===(c=this.props.loggedUser)||void 0===c?void 0:c.role)||(null===(s=this.props.loggedUser)||void 0===s?void 0:s.courses.includes(this.state.course._id))||void 0!==this.props.loggedUser&&this.state.course.freeAccessForFirstThirdOfAllLectures?Object(m.jsx)("h5",{children:"Continutul cursului:"}):Object(m.jsx)("h5",{children:"Continut cu acces liber:"}),Object(m.jsx)(de,{courseId:this.state.course._id,freeCourse:this.state.course.freeAccessForFirstThirdOfAllLectures,lecturesCount:this.state.course.lectures.length,sections:null===(o=this.state.course)||void 0===o?void 0:o.sections,loggedUser:this.props.loggedUser,renderList:this.renderList,currentLecture:this.state.currentLecture,setCurrentSectionAndLecture:this.setCurrentLecture,currentSection:this.state.currentSection,setCurrentVideo:this.setCurrentVideo,currentVideo:this.state.currentVideo})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{children:"Todavia no hay sectiones..."}),("admin"===(null===(t=this.props.loggedUser)||void 0===t?void 0:t.role)||(null===(r=this.state.course)||void 0===r?void 0:r.authors.includes(null===(n=this.props.loggedUser)||void 0===n?void 0:n._id)))&&Object(m.jsx)("div",{className:ne.a.block,children:Object(m.jsx)("button",{className:"btn btn-dark",onClick:this.toggleNewSectionForm,children:"Adauga Sectiune"})}),this.state.newSectionFormIsShown&&Object(m.jsx)(ce,{courseId:this.state.course._id,hideForm:this.toggleNewSectionForm,renderList:this.renderList})]})})]}),this.state.course.sections&&0!==(null===(a=this.state.course)||void 0===a?void 0:a.sections.length)?this.state.showSections&&Object(m.jsx)(de,{courseId:this.state.course._id,sections:null===(i=this.state.course)||void 0===i?void 0:i.sections,loggedUser:this.props.loggedUser,renderList:this.renderList}):this.state.showSections&&Object(m.jsx)("p",{children:"Todavia no hay sections..."})]}):Object(m.jsx)(f,{size:60})}}]),r}(n.Component),_e=function(e){var t,r,c=Object(n.useState)({name:"",description:"",typeOfCourse:"",position:"",tags:[],price:"",discountedPrice:"",skillLevel:"mediu",language:"rom\xe2n\u0103",allPlatformPromotions:[],freeAccessForFirstThirdOfAllLectures:!0,image:"",owner:null===(t=e.loggedUser)||void 0===t?void 0:t._id,authors:[null===(r=e.loggedUser)||void 0===r?void 0:r._id],temporaryTag:"",addTagEnabled:!0}),s=Object(A.a)(c,2),o=s[0],i=s[1],l=new v,u=new H,d=function(e){var t=e.target,r=t.name,n=t.value;i((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))};return Object(m.jsx)(j.a,{children:Object(m.jsxs)(P.a,{onSubmit:function(t){t.preventDefault(),l.saveCourse(o).then((function(){i({name:"",description:"",about:"",temporaryTag:"",tags:[],typeOfCourse:"",position:"",price:"",discountedPrice:"",skillLevel:"mediu",language:"rom\xe2n\u0103",allPlatformPromotions:[],freeAccessForFirstThirdOfAllLectures:!1,image:"",owner:"",authors:[],addTagEnabled:!0}),e.history.push("/courses")})).catch((function(e){return console.log(e)}))},children:[Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Title"}),Object(m.jsx)(P.a.Control,{type:"text",value:o.name,onChange:d,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"about",children:[Object(m.jsx)(P.a.Label,{children:"About"}),Object(m.jsx)(P.a.Control,{type:"text",value:o.about,onChange:d,name:"about"})]}),Object(m.jsxs)(P.a.Group,{controlId:"desc",children:[Object(m.jsx)(P.a.Label,{children:"Description"}),Object(m.jsx)(P.a.Control,{type:"text",value:o.description,onChange:d,name:"description"})]}),Object(m.jsxs)(P.a.Group,{controlId:"NewCourseFormType",children:[Object(m.jsx)(P.a.Label,{children:"Type"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:o.typeOfCourse,onChange:d,name:"typeOfCourse",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the course type --"}),Object(m.jsx)("option",{value:"video",children:"Video"}),Object(m.jsx)("option",{value:"written",children:"Written document - Pdf"}),Object(m.jsx)("option",{value:"other",children:"Other format"})]})]}),Object(m.jsxs)(P.a.Group,{controlId:"skillLevel",children:[Object(m.jsx)(P.a.Label,{children:"Skill Level"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:o.skillLevel,onChange:d,name:"skillLevel",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the skill level --"}),Object(m.jsx)("option",{value:"beginner",children:"\xcencep\u0103tor"}),Object(m.jsx)("option",{value:"intermediate",children:"Mediu"}),Object(m.jsx)("option",{value:"expert",children:"Avansat"})]})]}),Object(m.jsxs)(P.a.Group,{controlId:"language",children:[Object(m.jsx)(P.a.Label,{children:"Language"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:o.language,onChange:d,name:"language",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the language --"}),Object(m.jsx)("option",{value:"rom\xe2n\u0103",children:"Rom\xe2n\u0103"}),Object(m.jsx)("option",{value:"englez\u0103",children:"Englez\u0103"}),Object(m.jsx)("option",{value:"spaniol\u0103",children:"Spaniol\u0103"})]})]}),Object(m.jsxs)(w.a,{style:{alignItems:"bottom"},children:[Object(m.jsx)(L.a,{xs:6,md:4,children:Object(m.jsxs)(P.a.Group,{controlId:"temporaryTag",children:[Object(m.jsx)(P.a.Label,{children:"Tags"}),Object(m.jsx)(P.a.Control,{type:"text",value:o.temporaryTag,onChange:d,name:"temporaryTag"})]})}),Object(m.jsx)(L.a,{xs:6,md:2,children:Object(m.jsx)(g.a,{style:{marginTop:"2em",width:"100%"},variant:"dark",onClick:function(e){if(e.preventDefault(),""!==o.temporaryTag.trim()){var t=[].concat(Object(T.a)(o.tags),[o.temporaryTag]);i((function(e){return Object(a.a)(Object(a.a)({},e),{},{tags:t,temporaryTag:""})}))}},disabled:!o.addTagEnabled,children:"Add tag"})}),Object(m.jsx)(L.a,{xs:12,md:6,style:{marginTop:"1.8em"},children:Object(m.jsx)(V.a,{horizontal:!0,children:o.tags.map((function(e){return Object(m.jsx)(V.a.Item,{children:e})}))})})]}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Position"}),Object(m.jsx)(P.a.Control,{type:"text",value:o.position,onChange:d,name:"position"})]}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Price"}),Object(m.jsx)(P.a.Control,{type:"text",value:o.price,onChange:d,name:"price"})]}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Discounted Price"}),Object(m.jsx)(P.a.Control,{type:"text",value:o.discountedPrice,onChange:d,name:"discountedPrice"})]}),Object(m.jsx)(P.a.Group,{controlId:"freeAccessForFirstThirdOfAllLectures",children:Object(m.jsx)(P.a.Check,{type:"checkbox",checked:o.freeAccessForFirstThirdOfAllLectures,onChange:function(e){var t=e.target,r=t.name,n=t.checked;i((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))},name:"freeAccessForFirstThirdOfAllLectures",label:"Free access for first third of all lectures",inline:!0})}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Image (file) "}),Object(m.jsx)(P.a.Control,{type:"file",onChange:function(e){var t=new FormData;t.append("imageData",e.target.files[0]),u.uploadImage(t).then((function(e){i((function(t){return Object(a.a)(Object(a.a)({},t),{},{image:e.data.cloudinary_url})}))})).catch((function(e){return console.log(e)}))}})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Create course"})]})})},Te=function(e){var t,r,c,s,o=Object(n.useState)({name:"",description:"",typeOfCourse:"video",position:0,tags:[],price:0,discountedPrice:0,skillLevel:"intermediate",language:"rom\xe2n\u0103",allPlatformPromotions:[],freeAccessForFirstThirdOfAllLectures:!0,image:"",owner:null===(t=e.loggedUser)||void 0===t?void 0:t._id,authors:[null===(r=e.loggedUser)||void 0===r?void 0:r._id],temporaryTag:"",addTagEnabled:!0}),i=Object(A.a)(o,2),l=i[0],u=i[1],d=new v,h=new H;Object(n.useEffect)((function(){var t,r;(new v).getCourse(null===(t=e.match)||void 0===t?void 0:t.params.course_id,null===(r=e.match)||void 0===r?void 0:r.params.populated).then((function(e){u((function(t){return Object(a.a)(Object(a.a)({},t),e.data)}))})).catch((function(e){return console.log(e)}))}),[null===(c=e.match)||void 0===c?void 0:c.params.course_id,null===(s=e.match)||void 0===s?void 0:s.params.populated]);var b=function(e){var t=e.target,r=t.name,n=t.value;u((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))};return Object(m.jsx)(j.a,{children:Object(m.jsxs)(P.a,{onSubmit:function(t){t.preventDefault(),d.editCourse(l).then((function(){u({name:"",description:"",about:"",temporaryTag:"",tags:[],typeOfCourse:"video",position:0,price:100,discountedPrice:100,skillLevel:"intermediate",language:"rom\xe2n\u0103",allPlatformPromotions:[],freeAccessForFirstThirdOfAllLectures:!1,image:"",owner:"",authors:[],addTagEnabled:!0}),e.history.push("/courses")})).catch((function(e){return console.log(e)}))},children:[Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Title"}),Object(m.jsx)(P.a.Control,{type:"text",value:l.name,onChange:b,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"about",children:[Object(m.jsx)(P.a.Label,{children:"About"}),Object(m.jsx)(P.a.Control,{type:"text",value:l.about,onChange:b,name:"about"})]}),Object(m.jsxs)(P.a.Group,{controlId:"desc",children:[Object(m.jsx)(P.a.Label,{children:"Description"}),Object(m.jsx)(P.a.Control,{type:"text",value:l.description,onChange:b,name:"description"})]}),Object(m.jsxs)(P.a.Group,{controlId:"NewCourseFormType",children:[Object(m.jsx)(P.a.Label,{children:"Type"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:l.typeOfCourse,onChange:b,name:"typeOfCourse",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the course type --"}),Object(m.jsx)("option",{value:"video",children:"Video"}),Object(m.jsx)("option",{value:"written",children:"Written document - Pdf"}),Object(m.jsx)("option",{value:"other",children:"Other format"})]})]}),Object(m.jsxs)(P.a.Group,{controlId:"skillLevel",children:[Object(m.jsx)(P.a.Label,{children:"Skill Level"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:l.skillLevel,onChange:b,name:"skillLevel",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the skill level --"}),Object(m.jsx)("option",{value:"beginner",children:"\xcencep\u0103tor"}),Object(m.jsx)("option",{value:"intermediate",children:"Mediu"}),Object(m.jsx)("option",{value:"expert",children:"Avansat"})]})]}),Object(m.jsxs)(P.a.Group,{controlId:"language",children:[Object(m.jsx)(P.a.Label,{children:"Language"}),Object(m.jsxs)(P.a.Control,{as:"select",type:"text",value:l.language,onChange:b,name:"language",custom:"true",children:[Object(m.jsx)("option",{value:"",children:"-- Select the language --"}),Object(m.jsx)("option",{value:"rom\xe2n\u0103",children:"Rom\xe2n\u0103"}),Object(m.jsx)("option",{value:"englez\u0103",children:"Englez\u0103"}),Object(m.jsx)("option",{value:"spaniol\u0103",children:"Spaniol\u0103"})]})]}),Object(m.jsxs)(w.a,{style:{alignItems:"bottom"},children:[Object(m.jsx)(L.a,{xs:6,md:4,children:Object(m.jsxs)(P.a.Group,{controlId:"temporaryTag",children:[Object(m.jsx)(P.a.Label,{children:"Tags"}),Object(m.jsx)(P.a.Control,{type:"text",value:l.temporaryTag,onChange:b,name:"temporaryTag"})]})}),Object(m.jsx)(L.a,{xs:6,md:2,children:Object(m.jsx)(g.a,{style:{marginTop:"2em",width:"100%"},variant:"dark",onClick:function(e){if(e.preventDefault(),""!==l.temporaryTag.trim()){var t=[].concat(Object(T.a)(l.tags),[l.temporaryTag]);u((function(e){return Object(a.a)(Object(a.a)({},e),{},{tags:t,temporaryTag:""})}))}},disabled:!l.addTagEnabled,children:"Add tag"})}),Object(m.jsx)(L.a,{xs:12,md:6,style:{marginTop:"1.8em"},children:Object(m.jsx)(V.a,{horizontal:!0,children:l.tags.map((function(e){return Object(m.jsx)(V.a.Item,{children:e})}))})})]}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Position"}),Object(m.jsx)(P.a.Control,{type:"number",value:l.position,onChange:b,name:"position"})]}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Price"}),Object(m.jsx)(P.a.Control,{type:"number",value:l.price,onChange:b,name:"price"})]}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Discounted Price"}),Object(m.jsx)(P.a.Control,{type:"number",value:l.discountedPrice,onChange:b,name:"discountedPrice"})]}),Object(m.jsx)(P.a.Group,{controlId:"freeAccessForFirstThirdOfAllLectures",children:Object(m.jsx)(P.a.Check,{type:"checkbox",checked:l.freeAccessForFirstThirdOfAllLectures,onChange:function(e){var t=e.target,r=t.name,n=t.checked;u((function(e){return Object(a.a)(Object(a.a)({},e),{},Object(_.a)({},r,n))}))},name:"freeAccessForFirstThirdOfAllLectures",label:"Free access for first third of all lectures",inline:!0})}),Object(m.jsxs)(P.a.Group,{controlId:"lng",children:[Object(m.jsx)(P.a.Label,{children:"Image (file) "}),Object(m.jsx)(P.a.Control,{type:"file",onChange:function(e){var t=new FormData;t.append("imageData",e.target.files[0]),h.uploadImage(t).then((function(e){u((function(t){return Object(a.a)(Object(a.a)({},t),{},{image:e.data.cloudinary_url})}))})).catch((function(e){return console.log(e)}))}}),l.image]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Edit course"})]})})},Ae=function e(){var t=this;Object(i.a)(this,e),this.login=function(e,r){return t.app.post("/login",{email:e,pwd:r})},this.signup=function(e,r,n,c,s){return t.app.post("/signup",{email:e,pwd:r,name:n,surname:c,username:s})},this.logout=function(){return t.app.get("/logout")},this.isLoggedIn=function(){return t.app.post("/isLoggedIn")},this.app=x.a.create({baseURL:"http://matecumatei-server.herokuapp.com/api/",withCredentials:!0})},Pe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).handleInputChange=function(t){var r=t.target,n=r.name,c=r.value;e.setState(Object(_.a)({},n,c))},e.handleFormSubmit=function(t){t.preventDefault();var r=e.state,n=r.email,c=r.pwd,s=r.name,o=r.surname,a=r.username;e.authService.signup(n,c,s,o,a).then((function(){return e.props.history.push("/logIn")})).catch((function(t){return e.props.handleAlert(t.response.data.err,1e4,"warning",!0)}))},e.state={email:"",pwd:"",name:"",surname:"",username:""},e.authService=new Ae,e}return Object(l.a)(r,[{key:"render",value:function(){return Object(m.jsx)(j.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)(L.a,{md:{span:4,offset:4},children:[Object(m.jsx)("h1",{children:"Sign Up"}),Object(m.jsx)("hr",{}),Object(m.jsxs)(P.a,{onSubmit:this.handleFormSubmit,children:[Object(m.jsxs)(P.a.Group,{controlId:"email",children:[Object(m.jsx)(P.a.Label,{children:"Email*"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.email,onChange:this.handleInputChange,name:"email"})]}),Object(m.jsxs)(P.a.Group,{controlId:"pwd",children:[Object(m.jsx)(P.a.Label,{children:"Password*"}),Object(m.jsx)(P.a.Control,{type:"password",value:this.state.pwd,onChange:this.handleInputChange,name:"pwd"})]}),Object(m.jsxs)(P.a.Group,{controlId:"username",children:[Object(m.jsx)(P.a.Label,{children:"Pseudonim*"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.username,onChange:this.handleInputChange,name:"username"})]}),Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Prenume"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.name,onChange:this.handleInputChange,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"surname",children:[Object(m.jsx)(P.a.Label,{children:"Nume de familie"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.surname,onChange:this.handleInputChange,name:"surname"})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Sign Up"})]})]})})})}}]),r}(n.Component),Ve=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).handleInputChange=function(t){var r=t.target,n=r.name,c=r.value;e.setState(Object(_.a)({},n,c))},e.handleFormSubmit=function(t){t.preventDefault();var r=e.state,n=r.email,c=r.pwd;e.authService.login(n,c).then((function(t){e.props.storeUser(t.data),e.props.history.push("/courses")})).catch((function(t){return e.props.handleAlert(t.response.data.err,1e4,"warning",!0)}))},e.state={email:"",pwd:""},e.authService=new Ae,e}return Object(l.a)(r,[{key:"render",value:function(){return Object(m.jsx)(j.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)(L.a,{md:{span:4,offset:4},children:[Object(m.jsx)("h1",{children:"Log In"}),Object(m.jsx)("hr",{}),Object(m.jsxs)(P.a,{onSubmit:this.handleFormSubmit,children:[Object(m.jsxs)(P.a.Group,{controlId:"email",children:[Object(m.jsx)(P.a.Label,{children:"Email"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.email,onChange:this.handleInputChange,name:"email"})]}),Object(m.jsxs)(P.a.Group,{controlId:"pwd",children:[Object(m.jsx)(P.a.Label,{children:"Password"}),Object(m.jsx)(P.a.Control,{type:"password",value:this.state.pwd,onChange:this.handleInputChange,name:"pwd"})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Log In"})]})]})})})}}]),r}(n.Component),Ge=r(157),De=r(153),Me=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).state={user:void 0},e.userService=new be,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;this.userService.getUser(t).then((function(t){e.setState({user:t.data})})).catch((function(t){console.log("Hey",t),e.props.handleAlert(["You should login to access this route."],5e3,"info"),e.props.history.push("/login")}))}},{key:"render",value:function(){var e=this.state.user;return e?Object(m.jsx)(j.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsx)(L.a,{md:{span:6,offset:3},children:Object(m.jsxs)(Ge.a,{children:[Object(m.jsxs)(Ge.a.Header,{children:[e.name," ",e.surname]}),Object(m.jsxs)(Ge.a.Body,{children:[Object(m.jsx)(De.a,{src:e.avatar,roundedCircle:!0}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Pseudonim:"})," ",e.username]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Prenume:"})," ",e.name]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Nume de familie:"})," ",e.username]}),Object(m.jsx)(b.b,{className:"nav-link",to:"/users/".concat(e._id,"/edit"),children:Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Edit User"})})]})]})})})}):Object(m.jsx)("div",{children:"Loading..."})}}]),r}(n.Component),Ee=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).handleInputChange=function(t){var r=t.target,n=r.name,c=r.value;e.setState({user:Object(a.a)(Object(a.a)({},e.state.user),{},Object(_.a)({},n,c))})},e.handleCheckboxChange=function(t){var r=t.target,n=r.name,c=r.checked;e.setState(Object(_.a)({},n,c))},e.handleFormSubmit=function(t){t.preventDefault(),e.userService.editUser(e.state.user,e.state.showNewPasswordFields).then((function(){console.log("ok"),e.props.history.push("/users/".concat(e.state.user._id))})).catch((function(t){return e.props.handleAlert(t.response.data.err,1e4,"warning",!0)}))},e.state={user:void 0,showNewPasswordFields:!1},e.userService=new be,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;this.userService.getUser(t).then((function(t){e.setState({user:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.user?Object(m.jsx)(j.a,{children:Object(m.jsx)(w.a,{children:Object(m.jsxs)(L.a,{md:{span:4,offset:4},children:[Object(m.jsx)("h1",{children:"Update my profile"}),Object(m.jsx)("hr",{}),Object(m.jsxs)(P.a,{onSubmit:this.handleFormSubmit,children:[Object(m.jsxs)(P.a.Group,{controlId:"email",children:[Object(m.jsx)(P.a.Label,{children:"Email*"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.user.email,onChange:this.handleInputChange,name:"email"})]}),Object(m.jsxs)(P.a.Group,{controlId:"username",children:[Object(m.jsx)(P.a.Label,{children:"Pseudonim*"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.user.username,onChange:this.handleInputChange,name:"username"})]}),Object(m.jsxs)(P.a.Group,{controlId:"name",children:[Object(m.jsx)(P.a.Label,{children:"Prenume"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.user.name,onChange:this.handleInputChange,name:"name"})]}),Object(m.jsxs)(P.a.Group,{controlId:"surname",children:[Object(m.jsx)(P.a.Label,{children:"Nume de familie"}),Object(m.jsx)(P.a.Control,{type:"text",value:this.state.user.surname,onChange:this.handleInputChange,name:"surname"})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(P.a.Group,{controlId:"showNewPasswordFields",children:Object(m.jsx)(P.a.Check,{type:"checkbox",checked:this.state.showNewPasswordFields,onChange:this.handleCheckboxChange,name:"showNewPasswordFields",label:"Change Password",inline:!0})}),this.state.showNewPasswordFields&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("hr",{}),Object(m.jsxs)(P.a.Label,{children:["In order to change the password,",Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"provide the current password"}),Object(m.jsx)("li",{children:"introduce twice the new password"})]})]}),Object(m.jsxs)(P.a.Group,{controlId:"pwd",children:[Object(m.jsx)(P.a.Label,{children:"Current Password"}),Object(m.jsx)(P.a.Control,{type:"password",value:this.state.user.pwd||"",onChange:this.handleInputChange,name:"pwd"})]}),Object(m.jsxs)(P.a.Group,{controlId:"pwdNew1",children:[Object(m.jsx)(P.a.Label,{children:"New Password"}),Object(m.jsx)(P.a.Control,{type:"password",value:this.state.user.pwdNew1||"",onChange:this.handleInputChange,name:"pwdNew1"})]}),Object(m.jsxs)(P.a.Group,{controlId:"pwdNew2",children:[Object(m.jsx)(P.a.Label,{children:"New Password"}),Object(m.jsx)(P.a.Control,{type:"password",value:this.state.user.pwdNew2||"",onChange:this.handleInputChange,name:"pwdNew2"})]})]}),Object(m.jsx)(g.a,{style:{marginTop:"20px",width:"100%"},variant:"dark",type:"submit",children:"Update My Info"})]})]})})}):Object(m.jsx)("div",{children:"Loading..."})}}]),r}(n.Component),ze=function(e){var t=e.storeUser,r=e.loggedUser,n=e.handleAlert;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{path:"/",exact:!0,render:function(){return Object(m.jsx)(p,{})}}),Object(m.jsx)(h.a,{path:"/courses",exact:!0,render:function(){return Object(m.jsx)(y,{loggedUser:r})}}),Object(m.jsx)(h.a,{path:"/courses/details/:course_id",render:function(e){return Object(m.jsx)(Fe,Object(a.a)(Object(a.a)({},e),{},{loggedUser:r}))}}),Object(m.jsx)(h.a,{path:"/courses/new",render:function(e){return Object(m.jsx)(_e,Object(a.a)(Object(a.a)({},e),{},{loggedUser:r}))}}),Object(m.jsx)(h.a,{path:"/courses/edit/:course_id/:populated",render:function(e){return Object(m.jsx)(Te,Object(a.a)(Object(a.a)({},e),{},{loggedUser:r}))}}),Object(m.jsx)(h.a,{path:"/signUp",render:function(e){return Object(m.jsx)(Pe,Object(a.a)(Object(a.a)({},e),{},{handleAlert:n}))}}),Object(m.jsx)(h.a,{path:"/logIn",render:function(e){return Object(m.jsx)(Ve,Object(a.a)(Object(a.a)({},e),{},{storeUser:t,handleAlert:n}))}}),Object(m.jsx)(h.a,{path:"/users/:userId/edit",render:function(e){return r?Object(m.jsx)(Ee,Object(a.a)(Object(a.a)({},e),{},{handleAlert:n})):Object(m.jsx)(y,{loggedUser:r})}}),Object(m.jsx)(h.a,{path:"/users/:userId",render:function(e){return r?Object(m.jsx)(Me,Object(a.a)(Object(a.a)({},e),{},{handleAlert:n})):Object(m.jsx)(y,{loggedUser:r})}})]})})},Be=r(155),Re=r(106),He=(r(145),function(e){var t,r=e.storeUser,n=e.loggedUser,c=e.handleAlert,s=new Ae,o=Object(h.f)();return Object(m.jsxs)(Be.a,{bg:"dark",variant:"dark",expand:"md",style:{marginBottom:"0px",position:"fixed",top:0,width:"100%",zIndex:10},children:[Object(m.jsx)(b.b,{className:"nav-link",to:"/",children:Object(m.jsx)(Be.a.Brand,{style:{color:"rgba(255, 255, 255, 0.55)"},children:"MateCuMatei"})}),Object(m.jsx)(Be.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(Be.a.Collapse,{className:"justify-content-end",children:Object(m.jsxs)(Re.a,{className:"mr-auto",children:[Object(m.jsx)(b.b,{className:"nav-link",to:"/courses",children:"Courses"}),!n||"admin"!==n.role&&"superUser"!==n.role?null:Object(m.jsx)(b.b,{className:"nav-link",to:"/courses/new",children:"NewCourse"}),n?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"nav-link",onClick:function(){s.logout().then((function(e){r(void 0),o.push("/courses"),c(e.data.err,5e3,"info")})).catch((function(e){console.log(e),c(["There was an error at logout"],3e3,"info")}))},children:"LogOut"}),Object(m.jsx)(b.b,{className:"nav-link",to:"/users/".concat(n._id),children:"My profile"}),Object(m.jsxs)("span",{className:"nav-link",children:["Salutare",n?", "+(null===(t=n.username)||void 0===t?void 0:t.trim().split(" ")[0]):"","!"]})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.b,{className:"nav-link",to:"/signup",children:"SignUp"}),Object(m.jsx)(b.b,{className:"nav-link",to:"/login",children:"LogIn"})]})]})})]})}),Ke=(r(146),r(147),function(e){var t=e.footerColumnInfo,r=t.title,n=t.links,c=n.length>=5;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(j.a,{children:[Object(m.jsx)("h2",{className:"footer-section-title",children:r}),c?Object(m.jsxs)("div",{className:"two-column",children:[Object(m.jsx)("ul",{className:"footer-links-list",children:n.slice(0,Math.ceil(n.length/2)).map((function(e,t){return Object(m.jsx)("li",{className:"footer-link-item",children:Object(m.jsx)("a",{href:e.url,className:"footer-link",target:"_blank",rel:"noopener noreferrer",children:e.name})},t)}))}),Object(m.jsx)("ul",{className:"footer-links-list",children:n.slice(Math.ceil(n.length/2)).map((function(e,t){return Object(m.jsx)("li",{className:"footer-link-item",children:Object(m.jsx)("a",{href:e.url,className:"footer-link",target:"_blank",rel:"noopener noreferrer",children:e.name})},t)}))})]}):Object(m.jsx)("ul",{className:"footer-links-list",children:n.map((function(e,t){return Object(m.jsx)("li",{className:"footer-link-item",children:Object(m.jsx)("a",{href:e.url,className:"footer-link",target:"_blank",rel:"noopener noreferrer",children:e.name})},t)}))})]})})}),We=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).handleScroll=function(){window.pageYOffset>50?n.setState({hidden:!0}):n.setState({hidden:!1})},n.state={hidden:!1},n}return Object(l.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.state.hidden;return Object(m.jsx)("footer",{className:"footerStyle footerPositioning ".concat(e?"footer-fade-out hidden":""),children:Object(m.jsxs)(w.a,{children:[Object(m.jsx)(L.a,{xs:12,md:3,children:"Perseverance leads to inspiration."}),Object(m.jsx)(L.a,{xs:12,md:6,className:"offset-md-3",children:Object(m.jsx)(w.a,{children:[{title:"Creatori",links:[{name:"Despre Noi",url:"https://academia.matecumatei.ro/despre-noi/"},{name:"Blog",url:"https://academia.matecumatei.ro/blog/"},{name:"Contact",url:"https://academia.matecumatei.ro/contact/"}]},{title:"Linkuri utile",links:[{name:"\xcentreb\u0103ri frecvente",url:"https://academia.matecumatei.ro/faqs/"},{name:"Politica de confiden\u021bialitate",url:"https://academia.matecumatei.ro/politica-de-confidentialitate/"},{name:"Termeni \u0219i condi\u021bii",url:"https://academia.matecumatei.ro/termeni-si-conditii/"}]},{title:"Re\u021bele sociale",links:[{name:"Instagram",url:"https://www.instagram.com/matecumatei/"},{name:"Facebook",url:"https://www.facebook.com/MateCuMatei/"},{name:"YouTube",url:"https://www.youtube.com/matecumatei/playlists"},{name:"LinkedIn",url:"https://www.linkedin.com/in/silviu-dilimot/"},{name:"Twitter",url:"https://twitter.com/MateiCu"}]}].map((function(e,t){return Object(m.jsx)(L.a,{xs:12,md:4,children:Object(m.jsx)(Ke,{footerColumnInfo:e})},t)}))})})]})})}}]),r}(n.Component),Ye=r(156),qe=r.p+"static/media/logo.f9e09244.png",Je=function(e){var t=e.handleAlert,r=e.show,n=e.text,c=e.displayTime,s=e.color,o=n.map((function(e,t){return Object(m.jsx)("p",{children:e},t)}));return Object(m.jsxs)(Ye.a,{bg:s,autohide:!0,delay:c,show:r,onClose:function(){return t([""],0,"warning",!1)},style:{zIndex:9999,position:"fixed",bottom:38,right:17,width:300},children:[Object(m.jsxs)(Ye.a.Header,{closeButton:!0,closeLabel:"",children:[Object(m.jsx)("img",{src:qe,className:"rounded mr-2",alt:"Logotipo",style:{width:"2.5em",height:"2.5em"}}),Object(m.jsx)("strong",{className:"me-auto",children:" Mensaje del sistema"})]}),Object(m.jsx)(Ye.a.Body,{children:o})]})},Ze=r(59),Xe=function(e){var t=e.show,r=e.onHide;return Object(m.jsxs)(Ze.a,{show:t,onHide:r,centered:!0,children:[Object(m.jsx)(Ze.a.Header,{closeButton:!1,children:Object(m.jsx)(Ze.a.Title,{children:"Informa\u021bii despre Cookies"})}),Object(m.jsx)(Ze.a.Body,{children:Object(m.jsx)("div",{style:{display:"flex",alignItems:"flex-start",marginTop:0},children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h6",{children:"Nou\u0103 ne pas\u0103 ca datele tale personale s\u0103 r\u0103m\xe2n\u0103 confiden\u021biale"}),Object(m.jsx)("p",{children:"Pe acest site folosim un singur cookie func\u021bional necesar autentific\u0103rii. Autentificarea se realizeaz\u0103 prin intermediul formularului de login \u0219i implic\u0103 consim\u021b\u0103m\xe2ntul pentru utilizarea acestui cookie necesar."})]})})}),Object(m.jsx)(Ze.a.Footer,{children:Object(m.jsx)(g.a,{variant:"secondary",onClick:r,children:"Am in\u021beles"})})]})},Qe=function(e){Object(u.a)(r,e);var t=Object(d.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).storeUser=function(t){e.setState({loggedUser:t})},e.fetchUser=function(){e.authService.isLoggedIn().then((function(t){return e.storeUser(t.data)})).catch((function(){return e.storeUser(void 0)}))},e.showCookiesSettings=function(){e.setState({showCookiesSettings:!0})},e.hideCookiesSettings=function(){e.setState({showCookiesSettings:!1})},e.hideGDRP=function(){e.setState({showGDRP:!1})},e.handleAlert=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning",c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e.setState({toast:Object(a.a)(Object(a.a)({},e.state.toast),{},{alertText:t,displayTime:r,color:n,showAlert:c})})},e.state={loggedUser:void 0,toast:{showAlert:!1,alertText:[],displayTime:0,color:"warning"},showGDRP:!0},e.authService=new Ae,e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(He,{handleAlert:this.handleAlert,storeUser:this.storeUser,loggedUser:this.state.loggedUser,redirectToCourses:this.redirectToCourses}),Object(m.jsx)(ze,{handleAlert:this.handleAlert,storeUser:this.storeUser,loggedUser:this.state.loggedUser}),Object(m.jsx)(We,{}),Object(m.jsx)(Je,{handleAlert:this.handleAlert,show:this.state.toast.showAlert,text:this.state.toast.alertText,displayTime:this.state.toast.displayTime,color:this.state.toast.color}),Object(m.jsx)(Xe,{show:this.state.showGDRP,onHide:this.hideGDRP}),Object(m.jsx)(Xe,{show:this.state.showGDRP,onHide:this.hideGDRP})]})}}]),r}(n.Component);o.a.render(Object(m.jsx)(b.a,{children:Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(Qe,{})})}),document.getElementById("root"))},20:function(e,t,r){e.exports={container:"LecturePage_container__2kE6C",block:"LecturePage_block__3tXkp",smallPicContainer:"LecturePage_smallPicContainer__3yFsa",smallPic:"LecturePage_smallPic__KDQL9"}},28:function(e,t,r){e.exports={sectionContainer:"SectionPage_sectionContainer__Asgc-",sectionTitleContainer:"SectionPage_sectionTitleContainer__2O1J1",block:"SectionPage_block__KKip9",smallPicContainer:"SectionPage_smallPicContainer__2Ojqs",smallPic:"SectionPage_smallPic__3Zg55"}},57:function(e,t,r){e.exports={sectionContainer:"CurriculumSectionPage_sectionContainer__37Gcl",sectionTitleContainer:"CurriculumSectionPage_sectionTitleContainer__9Cqdf",block:"CurriculumSectionPage_block__2N7k5",smallPicContainer:"CurriculumSectionPage_smallPicContainer__1pGxe",smallPic:"CurriculumSectionPage_smallPic__2ypyV"}},58:function(e,t,r){e.exports={container:"CurriculumLecturePage_container__1djGI",block:"CurriculumLecturePage_block__33LST",smallPicContainer:"CurriculumLecturePage_smallPicContainer__2WDst",smallPic:"CurriculumLecturePage_smallPic__3ZAMs"}},83:function(e,t,r){e.exports={backdrop:"Modal_backdrop__2_p4V",modal:"Modal_modal__2BmUS","slide-down":"Modal_slide-down__2Gqm8"}},90:function(e,t,r){e.exports={backdrop:"LectureModal_backdrop__egXAL",modal:"LectureModal_modal__2wSdS",header:"LectureModal_header__PLLWS",content:"LectureModal_content__3UymA",actions:"LectureModal_actions__Z1f0J"}},91:function(e,t,r){e.exports={backdrop:"CurriculumLectureModal_backdrop__j6h8c",modal:"CurriculumLectureModal_modal__2Dx0I",header:"CurriculumLectureModal_header__UhTga",content:"CurriculumLectureModal_content__35AKT",actions:"CurriculumLectureModal_actions__1yIAO"}}},[[148,1,2]]]);
//# sourceMappingURL=main.0014004c.chunk.js.map